(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9132],{65570:function(e,s,t){"use strict";var d,l=t(67294);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(e[d]=t[d])}return e}).apply(this,arguments)}s.Z=function(e){return l.createElement("svg",n({width:"1em",height:"1em",viewBox:"0 0 11 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),d||(d=l.createElement("path",{d:"M5.3.426a5.3 5.3 0 0 0-5.3 5.3c0 3.976 5.3 9.846 5.3 9.846s5.3-5.87 5.3-9.846a5.3 5.3 0 0 0-5.3-5.3Zm0 7.2a1.894 1.894 0 1 1 .012-3.788A1.894 1.894 0 0 1 5.3 7.626Z",fill:"#E00646"})))}},88393:function(e,s,t){"use strict";var d,l=t(67294);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(e[d]=t[d])}return e}).apply(this,arguments)}s.Z=function(e){return l.createElement("svg",n({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),d||(d=l.createElement("path",{d:"m19.24 20.727-4.99-4.979v-.788l-.269-.28a6.495 6.495 0 1 1 .7-.699l.279.27h.788l4.98 4.99-1.487 1.486ZM9.76 5.267a4.491 4.491 0 1 0 0 8.983 4.491 4.491 0 0 0 0-8.982Z",fill:"#2B2B2B"})))}},3328:function(e,s,t){"use strict";t.d(s,{Z:function(){return N}});var d=t(85893);t(91702),t(7910),t(44868);var l=t(67294),n=t(39005),i=t(98456),a=t(2664),o=t(55509),r=t(52761),c=t.n(r),_=t(8193),u=t(56559),p=function(e){let{open:s,setOpen:t,addressDetails:r,setOpenAddressDetails:p}=e,m=(0,a.useDispatch)(),[v,h]=(0,l.useState)(!1),g=(0,a.useSelector)(u.Tw);(0,l.useEffect)(()=>{!g&&v&&t(!1)},[g]);let x=()=>{let e={addressId:r.id};m((0,u._N)(e)),h(!0)};return(0,d.jsx)("div",{children:(0,d.jsx)(n.Z,{open:s,onOpen:()=>t(!0),onClose:()=>{t(!1)},anchor:(0,o.Bx)(),sx:{"& .MuiDrawer-paper":{borderRadius:(0,o.s_)()}},ModalProps:{keepMounted:!1,disablePortal:!0},children:(0,d.jsxs)("div",{className:c().delete__address__wrapper,children:[(0,d.jsxs)("div",{className:c().head,children:[(0,d.jsx)("h6",{children:"Delete Address"}),(0,d.jsx)("div",{className:c().cross,onClick:()=>t(!1),children:(0,d.jsx)(_.oHP,{})})]}),(0,d.jsxs)("div",{className:c().mid,children:[(0,d.jsx)("p",{children:"Are you sure you want to delete this address?"}),(0,d.jsxs)("div",{className:c().btn__wrapper,children:[(0,d.jsx)("button",{className:c().button,onClick:()=>x(),children:g?(0,d.jsx)(i.Z,{style:{color:"#2b2b2b"},size:15,thickness:6}):"Yes"}),(0,d.jsx)("button",{className:c().button,onClick:()=>{t(!1),p(!0)},children:"No"})]})]})]})})})},m=t(68548),v=t(42975),h=t(9827),g=t(3569),x=t(22994),f=t(36872),y=t(47491),j=t(55429);t(74816);var w=t(89070),b=t(675),A=t(5939),E=t.n(A);let k=e=>{let{currentStep:s,cartErrorMessage:t,showAlertModal:n,type:i}=e,r=(0,a.useDispatch)(),c=(0,y.Pk)(),_=(0,y.hU)(),[A,k]=(0,l.useState)(!1),[N,I]=(0,l.useState)(!1),[S,C]=(0,l.useState)(""),[Z,D]=(0,l.useState)(null),[M,L]=(0,l.useState)(!1),[O,P]=(0,l.useState)(!1),[T,B]=(0,l.useState)(!1),[F,H]=(0,l.useState)(""),[z,R]=(0,l.useState)(!1),[q,V]=(0,l.useState)(""),[U,G]=(0,l.useState)({title:"",description:""}),[Q,X]=(0,l.useState)({}),K=(0,a.useSelector)(u.hq),W=(0,a.useSelector)(u.Qm),Y=(0,a.useSelector)(j.hw);(0,l.useEffect)(()=>{if(W){var e,s,t,d,l;(null==W?void 0:null===(e=W.city)||void 0===e?void 0:null===(s=e.display_name)||void 0===s?void 0:s.replaceAll(" ","_"))!==Y&&((null==K?void 0:K.length)&&(null===(t=K[0])||void 0===t?void 0:null===(d=t.city)||void 0===d?void 0:null===(l=d.display_name)||void 0===l?void 0:l.replaceAll(" ","_"))===Y?r((0,u.l3)(K[0])):r((0,u.l3)(null)))}T||B(!0)},[]),(0,l.useEffect)(()=>{c&&(K||r((0,u.ZK)()))},[c]),(0,l.useEffect)(()=>{if(W&&T){var e,s,t;let d=null!==(t=null==W?void 0:null===(e=W.city)||void 0===e?void 0:null===(s=e.display_name)||void 0===s?void 0:s.replaceAll(" ","_"))&&void 0!==t?t:w.hL;r((0,j.nc)(d)),localStorage.setItem("city",d)}},[W]),(0,l.useEffect)(()=>{var e,s,t;if((null==K?void 0:K.length)===0&&window.location.href.includes("/checkout")){es(null);return}(null==K?void 0:K.length)&&!W&&(null===(e=K[0])||void 0===e?void 0:null===(s=e.city)||void 0===s?void 0:null===(t=s.display_name)||void 0===t?void 0:t.replaceAll(" ","_"))===Y&&r((0,u.l3)(K[0])),window.scrollTo({top:0,left:0})},[null==K?void 0:K.length]);let $=(e,s)=>{C(s),e.target.id===(null==s?void 0:s.id)+"-edit"?(V("edit"),D({...s}),I(!0)):((0,o.H$)(e,300,"rgb(245, 245, 245, 0.5)"),(null==W?void 0:W.id)!==(null==s?void 0:s.id)&&r((0,u.l3)(s)),L(!1))},[J,ee]=(0,l.useState)(!1),es=e=>{ee(!0),V("add"),e&&(0,o.H$)(e,250),S&&(w.XA.initialLocation=!0),k(!0)};return(0,d.jsx)(d.Fragment,{children:2===s&&(0,d.jsxs)(d.Fragment,{children:[K?(0,d.jsxs)(d.Fragment,{children:[(null==K?void 0:K.length)?(0,d.jsx)("div",{id:"address-container",className:E().addressesCont,children:(0,d.jsx)(d.Fragment,{children:K.map((e,s)=>(0,d.jsxs)("div",{id:"cart-v5-address-"+(null==e?void 0:e.id),className:E().addressCont,onClick:s=>$(s,e),style:{border:"Profile"===i?"1px solid #d9d9d9":(null==e?void 0:e.id)===(null==W?void 0:W.id)?"1px solid #235b8e":"1px solid #D9D9D9",backgroundColor:"Profile"===i?"white":(null==e?void 0:e.id)===(null==W?void 0:W.id)?"#F5F5F5":"white"},children:["Profile"!==i?(0,d.jsxs)("div",{style:{position:"relative"},children:[(0,d.jsx)(f.Z,{checked:(null==W?void 0:W.id)===(null==e?void 0:e.id)&&!M,onChange:()=>{},value:null==e?void 0:e.id,sx:{flexShrink:0,padding:"0","&.Mui-checked":{color:"#0E3F6C"},"& .MuiSvgIcon-root":{fontSize:"24px"},color:M?"transparent":"rgba(0, 0, 0, 0.6)",zIndex:1}}),M&&(0,d.jsx)(x.Z,{style:{height:"20px",width:"20px",borderRadius:"50%",top:"2px",left:"2px",position:"absolute",zIndex:0},thickness:"6px",delay:500,duration:1e3,primaryColor:"#e5184e",updateVariables:0===s,innerBorderRadius:"50%",iterations:1})]}):null,(0,d.jsxs)("div",{className:E().addressName,children:[(0,d.jsx)("span",{children:(null==e?void 0:e.booking_for)||"Home"}),(0,d.jsxs)("p",{style:{color:"Profile"===i?"#2F3032":"#9d9fa1"},children:[null==e?void 0:e.house_number,", ",null==e?void 0:e.address_line2,", ",null==e?void 0:e.street_name,","]}),(0,d.jsx)("p",{style:{color:"Profile"===i?"#2F3032":"#9d9fa1"},children:null==e?void 0:e.address_line1})]}),(0,d.jsx)(b.Z,{id:(null==e?void 0:e.id)+"-edit",className:E().addressEdit,style:{color:"Profile"===i?"#2F3032":"#0e3f6c"}})]},null==e?void 0:e.id))})}):null,(0,d.jsx)("div",{className:E().addButtonCont,children:(0,d.jsx)("button",{className:E().addButton,style:{border:M?"2px solid #e5184e":"1px solid #235B8E",color:M?"#e5184e":"#235B8E"},onClick:es,children:"+ Add Address"})})]}):[1,2,3].map((e,s)=>(0,d.jsx)(g.Z,{forceShimmer:!0,cardHeight:"120px",cardBorderRadius:"15px",cardWidth:"mobile"===_?"90vw":"100%"},s)),(0,d.jsx)(m.Z,{openDrawer:A,setOpenDrawer:k,selectedLocation:S,setSelectedLocation:C,setOpenAddressDetailsDrawer:I,setCityId:H,setIsEditing:R,isEditing:z,setAddressDetails:D,setAddingNewAddress:ee,addingNewAddress:J,addressDetailsType:q,setAddressDetailsType:V,locationInfo:U,setLocationInfo:G,setExistingAddressInfo:X}),(0,d.jsx)(v.Z,{openDrawer:N,setOpenDrawer:I,selectedLocation:S,setSelectedLocation:C,addressDetailsType:q,setAddressDetailsType:V,setOpenMapDrawer:k,isEditing:z,setIsEditing:R,locationInfo:U,setLocationInfo:G,existingAddressInfo:Q,setExistingAddressInfo:X,cityId:F,setOpenDeleteModal:P,setAddingNewAddress:ee}),(0,d.jsx)(p,{addressDetails:Q,open:O,setOpen:P,setOpenAddressDetails:I}),(0,d.jsx)(h.Z,{})]})})};k.defaultProps={currentStep:2,cartErrorMessage:"",showAlertModal:!1};var N=k},44868:function(e,s,t){"use strict";var d=t(85893),l=t(67294),n=t(60713),i=t.n(n);let a=e=>{var s;let{children:t,maxHeight:n,entryTransition:a,exitTransition:o,duration:r,delay:c}=e,[_,u]=(0,l.useState)([]);(0,l.useEffect)(()=>{(null==t?void 0:t.length)!==_.length&&setTimeout(e=>{var s;u([...null==e?void 0:null===(s=e.filter)||void 0===s?void 0:s.call(e,e=>!!e)])},r+c,t);let e=document.documentElement;e.style.setProperty("--custom-transition-slide-max-height",n),e.style.setProperty("--custom-transition-duration",r+"ms"),e.style.setProperty("--custom-transition-delay",c+"ms")},[t]);let p=0,m=0;return(0,d.jsx)(d.Fragment,{children:(null==t?void 0:t.length)>=(null==_?void 0:_.length)?l.Children.map(null==t?void 0:null===(s=t.filter)||void 0===s?void 0:s.call(t,e=>!!e),(e,s)=>{var t;return(null==_?void 0:_.length)>s-p?(null==e?void 0:e.key)!==(null===(t=_[s-p])||void 0===t?void 0:t.key)?(p+=1,(0,d.jsx)("div",{className:i()[a],children:e},(null==e?void 0:e.key)+"-wrapper")):(0,d.jsx)("div",{children:e},(null==e?void 0:e.key)+"-wrapper"):(p+=1,(0,d.jsx)("div",{className:i()[a],children:e},(null==e?void 0:e.key)+"-wrapper"))}):l.Children.map(_,(e,s)=>{var l;return(null==t?void 0:t.length)>s-m?(null==e?void 0:e.key)!==(null===(l=t[s-m])||void 0===l?void 0:l.key)?(m+=1,(0,d.jsx)("div",{className:i()[o],children:e},(null==e?void 0:e.key)+"-wrapper")):(0,d.jsx)("div",{children:e},(null==e?void 0:e.key)+"-wrapper"):(m+=1,(0,d.jsx)("div",{className:i()[o],children:e},(null==e?void 0:e.key)+"-wrapper"))})})};a.defaultProps={entryTransition:"slideIn",exitTransition:"slideOut",maxHeight:"150px",duration:250,delay:100},s.Z=a},42975:function(e,s,t){"use strict";var d=t(85893),l=t(67294),n=t(2664),i=t(19058),a=t(98456),o=t(55509),r=t(50594),c=t(65570),_=t(675),u=t(70470),p=t(85867),m=t.n(p),v=t(17506),h=t(56559);let g=e=>{let{id:s,labelText:t,type:l,value:n,required:i,onChange:a}=e;return(0,d.jsxs)("div",{className:m().address__input,children:[(0,d.jsxs)("label",{htmlFor:s,children:[t,i?"*":""]}),(0,d.jsx)("input",{required:i,type:l,value:n,id:s,maxLength:100,pattern:"^[A-Za-z0-9]+.*$",onInvalid:e=>{e.target.setCustomValidity("Enter a Valid Address")},onInput:e=>{let s=e.target.value;if(s.match(/^[A-Za-z0-9]+.*$/))e.target.setCustomValidity("");else{e.target.setCustomValidity("Enter a Valid Address");let t=null==s?void 0:s.trim();t!==s&&(e.target.value=t)}},title:"Only letters, numbers, and spaces are allowed.",onChange:a})]})},x=e=>{var s;let{openDrawer:t,setOpenDrawer:p,selectedLocation:x,setSelectedLocation:f,addressDetailsType:y,setAddressDetailsType:j,setOpenMapDrawer:w,isEditing:b,setIsEditing:A,locationInfo:E,setLocationInfo:k,cityId:N,existingAddressInfo:I,setExistingAddressInfo:S,setOpenDeleteModal:C,setAddingNewAddress:Z}=e,D=(0,n.useDispatch)(),{addressAdded:M}=(0,n.useSelector)(e=>e.user),[L,O]=(0,l.useState)("home"),[P,T]=(0,l.useState)({address:"",floor:"",landmark:""}),[B,F]=(0,l.useState)(null),[H,z]=(0,l.useState)(!1),R={background:"linear-gradient(223deg, #FFF 0%, #DBF5F9 100%)",border:"1px solid #659ac9"},q=e=>{T(s=>({...s,[e.target.id]:e.target.value}))},V=e=>{e.preventDefault();let s={address_line1:"".concat(E.description),house_number:P.address,address_line2:P.floor,city:null!=N?N:null==I?void 0:I.id,street_name:P.landmark,latitude:x.geometry.location.lat(),longitude:x.geometry.location.lng(),booking_for:L,app:"web_consumer"};z(!0),B?D((0,h.y3)({id:B,body:s})):D((0,h.y$)({body:s}))},U=()=>{p(!1),j(""),f(null),Z(!1),O("home"),T({address:"",floor:"",landmark:""}),F(null),S({})};return(0,l.useEffect)(()=>{if(x){var e,s;if("edit"===y)S(x),F(null==x?void 0:x.id),O(null==x?void 0:null===(e=x.booking_for)||void 0===e?void 0:e.toLowerCase()),T({address:null==x?void 0:x.house_number,floor:null==x?void 0:x.address_line2,landmark:null==x?void 0:x.street_name});else if(("update"===y||"add"===y)&&T({address:"",floor:"",landmark:""}),0===Object.keys(I).length){let{locationTitle:e,addressStr:s}=(0,v.yd)(x);k({title:e,description:s})}else k({title:null==I?void 0:null===(s=I.address_line1)||void 0===s?void 0:s.split(", ")[0],description:null==I?void 0:I.address_line1})}},[x,y,I]),(0,l.useEffect)(()=>{M&&(F(null),D((0,h.kw)()),z(!1),p(!1),D((0,h.ZK)()),setTimeout(()=>{document.getElementById("address-div").scrollTo({top:0,behavior:"smooth"})},200))},[M]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.ZP,{anchor:(0,o.Bx)(),open:t,onClose:U,classes:{paper:m().address__drawer},children:(0,d.jsxs)("div",{className:m().address__info,children:[(0,d.jsxs)("div",{className:m().address__head,children:[(0,d.jsx)("p",{children:"add"!==y?"Edit Address":"Enter Address Details"}),(0,d.jsx)(r.Z,{onClick:U,className:m().address__head__close,fontSize:"inherit"})]}),(0,d.jsxs)("div",{className:m().address__selected,children:[(0,d.jsxs)("div",{className:m().address__selected__container,children:[(0,d.jsxs)("div",{className:m().address__selected__title,children:[(0,d.jsx)("div",{className:m().address__selected__locationIcon,children:(0,d.jsx)(c.Z,{style:{width:"100%",height:"100%"}})}),(0,d.jsx)("h3",{children:E.title})]}),(0,d.jsx)("div",{className:m().address__selected__editIcon,onClick:()=>{p(!1),w(!0),A(!0)},children:(0,d.jsx)(_.Z,{style:{width:"100%",height:"100%"}})})]}),(0,d.jsx)("p",{children:E.description})]}),(0,d.jsxs)("div",{className:m().address__saveAs,children:[(0,d.jsx)("p",{children:"Save as*"}),(0,d.jsx)("div",{className:m().address__saveAs__options,children:["home","parent's","spouse","others"].map((e,s)=>(0,d.jsx)("div",{style:L===e?R:{},className:m().address__saveAs__item,onClick:()=>O(e),children:(0,d.jsx)("p",{children:(0,o.Oo)(e)})},s))}),(0,d.jsxs)("form",{onSubmit:V,children:[(0,d.jsxs)("div",{className:m().address__saveAs__inputs,children:[(0,d.jsx)(g,{id:"address",labelText:"House No/Flat No.",onChange:q,type:"text",value:P.address,required:!0}),(0,d.jsx)(g,{id:"floor",labelText:"Apartment/Building Name/Colony",onChange:q,type:"text",value:P.floor,required:!0}),(0,d.jsx)(g,{id:"landmark",labelText:"Landmark",onChange:q,type:"text",value:P.landmark,required:!0})]}),(0,d.jsxs)("div",{className:m().address__saveAs__btns,children:["add"!==y&&!(null===(s=window.location)||void 0===s?void 0:s.href.includes("checkout"))&&(0,d.jsx)("div",{className:m().address__saveAs__btns__delete,onClick:()=>{C(!0),p(!1)},children:(0,d.jsx)(u.Z,{style:{width:"100%",height:"100%"}})}),(0,d.jsx)("button",{type:"submit",children:H?(0,d.jsx)(a.Z,{size:"16px",color:"inherit"}):"Save Address"})]})]})]})]})})})};s.Z=x},68548:function(e,s,t){"use strict";t.d(s,{Z:function(){return D}});var d,l=t(85893),n=t(67294),i=t(11163),a=t(2664),o=t(20724),r=t(5152),c=t.n(r);let _=e=>{let{id:s,children:t,src:d}=e;return(0,n.useEffect)(()=>{if(void 0===window.google){let e=document.createElement("script");e.id=s,d&&(e.src=d),t&&(e.innerHTML=t),document.body.appendChild(e)}},[s,t]),null};var u=t(83158),p=t.n(u),m=t(55509),v=t(3569),h=t(65570),g=t(98456),x=t(56559),f=t(89070);let y=e=>{let{selectedLocation:s,locationLoading:t,permissionDeniedMsg:d,selectedAddress:i,setErrorMessage:o,setOpenAddressDetailsDrawer:r,setOpenSelectMMILocationDrawer:c,setCityId:_,setIsEditing:u,isEditing:m,setAddressDetailsType:y,locationInfo:j,setLocationInfo:w,center:b,addressDetailsType:A,addingNewAddress:E}=e,k=(0,a.useDispatch)(),{geofenceLoading:N,geofenceArea:I,error:S}=(0,a.useSelector)(e=>e.user),C=null===s&&"add"===A&&!m||t,Z="",D=null==i?void 0:i.split(", ");for(let e=0;e<(null==D?void 0:D.length);e++){let s=D[e];if((null==s?void 0:s.length)>=3){Z=s;break}}(0,n.useEffect)(()=>{S&&o(f.S0.geo_fence)},[S]),(0,n.useEffect)(()=>{I&&(null==I?void 0:I.status)&&(y(e=>"add"!==e&&m?"update":"add"),r(!0),_(null==I?void 0:I.cityid),c(!1))},[I]);let M=async()=>{try{var e,t,d,l,n,i;k((0,x.SE)({lat:null!==(n=null==s?void 0:null===(e=s.geometry)||void 0===e?void 0:null===(t=e.location)||void 0===t?void 0:t.lat())&&void 0!==n?n:b.lat,lng:null!==(i=null==s?void 0:null===(d=s.geometry)||void 0===d?void 0:null===(l=d.location)||void 0===l?void 0:l.lng())&&void 0!==i?i:b.lng}))}catch(e){console.error(e)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{children:"Select Pick Up Location"}),(0,l.jsxs)("div",{className:p().map__location__selected,children:[(0,l.jsx)("div",{className:p().map__location__selected__icon,children:(0,l.jsx)(h.Z,{style:{width:"100%",height:"100%"}})}),t?(0,l.jsx)("div",{className:p().map__location__shimmer,children:Array.from([,,,],e=>null).map((e,s)=>(0,l.jsx)(v.Z,{cardHeight:"10px",cardWidth:"70%",cardBorderRadius:"5px",forceShimmer:!0},s))}):(0,l.jsx)(l.Fragment,{children:d&&!s?(0,l.jsx)("p",{children:"Search location or allow location permission"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:(null==j?void 0:j.title)?j.title:i&&Z}),(0,l.jsx)("p",{children:(null==j?void 0:j.description)?null==j?void 0:j.description:null!=i?i:""})]})})]}),(0,l.jsx)("div",{className:p().map__fullAddress,children:(0,l.jsx)("button",{type:"button",style:C?{opacity:.5,filter:"grayscale(1)",cursor:"not-allowed"}:{},disabled:C,onClick:M,children:N?(0,l.jsx)(g.Z,{color:"inherit",size:"16px"}):" Enter Complete Address"})})]})};var j=t(11183);function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(e[d]=t[d])}return e}).apply(this,arguments)}var b=function(e){return n.createElement("svg",w({width:"1em",height:"1em",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),d||(d=n.createElement("path",{d:"M10.135 6.449a3.685 3.685 0 1 0 0 7.37 3.685 3.685 0 0 0 0-7.37Zm8.237 2.764A8.287 8.287 0 0 0 11.056 1.9V0H9.213v1.9A8.287 8.287 0 0 0 1.9 9.213H0v1.843h1.9a8.287 8.287 0 0 0 7.315 7.315v1.9h1.843v-1.9a8.287 8.287 0 0 0 7.315-7.315h1.9V9.213h-1.901Zm-8.237 7.371a6.448 6.448 0 1 1 0-12.897 6.448 6.448 0 0 1 0 12.897Z",fill:"#E00646"})))},A=t(88393),E=t(92701),k=t(47491),N=t(17506),I=t(30596);let S=c()(()=>t.e(3273).then(t.bind(t,13273)),{loadableGenerated:{webpack:()=>[13273]}}),C=()=>{let e=document.createElement("div");return e.id="marker",e.innerHTML='<div class="marker">\n    <p>Sample pickup location</p>\n    <div class="gmap-pin" />\n  </div>',e},Z=e=>{var s;let{openDrawer:t,setOpenDrawer:d,selectedLocation:r,setSelectedLocation:c,setOpenAddressDetailsDrawer:u,setCityId:v,setIsEditing:h,isEditing:f,setAddingNewAddress:w,addingNewAddress:Z,setAddressDetailsType:D,locationInfo:M,setLocationInfo:L,addressDetailsType:O,setExistingAddressInfo:P}=e,{setErrorMessage:T,errorMessage:B}=(0,I.j)(),F=(0,i.useRouter)(),H=(0,a.useDispatch)(),z=(0,n.useRef)(null),R=z.current,q=(0,n.useRef)(null);q.current||(z.current=null);let[V,U]=(0,n.useState)(""),[G,Q]=(0,n.useState)({lat:28.633,lng:77.2194}),[X,K]=(0,n.useState)([]),[W,Y]=(0,n.useState)(!1),[$,J]=(0,n.useState)(!1),[ee,es]=(0,n.useState)(!1),[et,ed]=(0,n.useState)(""),[el,en]=(0,n.useState)(!1),[ei,ea]=(0,n.useState)(!1),eo="mobile"===(0,k.hU)(),er=e=>{try{new window.google.maps.places.AutocompleteService().getPlacePredictions({input:e,componentRestrictions:{country:"in"}},e=>{en(!1),K(e)})}catch(e){console.error(e)}},ec=e=>{R?null==R||R.setCenter(e):window.google?em(e,15):Q(e)},e_=async e=>{try{let s=new window.google.maps.Geocoder;return s.geocode({placeId:e},function(e,s){if("OK"==s){es(!1),c(e[0]),U(""),K([]);let s={lat:e[0].geometry.location.lat(),lng:e[0].geometry.location.lng()};ec(s)}})}catch(e){console.error(e)}},eu=e=>{try{let{lat:s,lng:t}=null==e?void 0:e.getCenter();Q({lat:s(),lng:t()}),P({}),es(!1),J(!0),ev({lat:s(),lng:t()})}catch(e){console.error("updateCenter error",e)}},ep=()=>{try{navigator.permissions&&navigator.permissions.query({name:"geolocation"}).then(e=>{"denied"===e.state||f?(es(!0),J(!1),em(G,5)):(J(!0),eh("autodetect"))})}catch(e){console.warn("detectBrowserPermissions",e)}},em=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;arguments.length>1&&arguments[1];try{let s=new window.google.maps.Map(q.current,{center:e,zoom:15,zoomControl:!eo,disableDefaultUI:!0,mapId:window.google.maps.MapTypeId.HYBRID,clickableIcons:!1});z.current=s,await window.google.maps.importLibrary("marker");let t=new window.google.maps.marker.AdvancedMarkerElement({map:s,content:C(),position:e,title:""});window.google.maps.event.addListener(s,"center_changed",()=>{let e=null==s?void 0:s.getCenter();t.position=e}),window.google.maps.event.addListener(s,"dragend",()=>{eu(s)}),window.google.maps.event.addListener(s,"drag",()=>K([])),window.google.maps.event.addListener(s,"zoom_changed",()=>eu(s))}catch(e){console.error(e)}},ev=async e=>{try{e&&O&&new window.google.maps.Geocoder().geocode({location:e}).then(e=>{var s;let t=null==e?void 0:null===(s=e.results)||void 0===s?void 0:s.filter(e=>{var s;return null===(s=e.address_components)||void 0===s?void 0:s.some(e=>{var s;return"IN"===e.short_name&&(null===(s=e.types)||void 0===s?void 0:s.includes("country"))})});J(!1),(null==t?void 0:t.length)>0?c(t[0]):(c(null),L({title:"",description:""}),ed(""))})}catch(e){console.warn("getAddressFromLatLong",e)}},eh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"manual",s=arguments.length>1?arguments[1]:void 0;try{navigator.geolocation.getCurrentPosition(s=>{let t={lat:s.coords.latitude,lng:s.coords.longitude};ea(!1),P({}),ec(t),Q(t),ev(t),"autodetect"===e&&(ec(t),null==R||R.setZoom(15))},e=>{1===e.code&&(ea(!1),es(!0),J(!1),T(null!=s?s:"Permission denied"))})}catch(e){console.error("detectUserLocation",e)}};return(0,n.useEffect)(()=>{if(setTimeout(()=>{ev(G)},200),!W){let e=()=>{Y(!0),em(G,15)};if(void 0===(null==window?void 0:window.google))return document.addEventListener("googleMapEvent",e),()=>document.removeEventListener("googleMapEvent",e);e()}},[G]),(0,n.useEffect)(()=>{Z&&(c(null),L({title:"",description:""}),ep())},[Z]),(0,n.useEffect)(()=>{var e;let s;return(null==V?void 0:V.length)>=3?(en(!0),s=setTimeout(()=>er(V),1e3)):(null===(e=null==V?void 0:V.trim())||void 0===e?void 0:e.length)===0&&(en(!1),K([])),()=>clearTimeout(s)},[V]),(0,n.useEffect)(()=>{if(r){let{addressStr:e}=(0,N.yd)(r);e&&ed(e),(null==r?void 0:r.latitude)&&(null==r?void 0:r.longitude)&&(D("backgroundUpdate"),null==R||R.setCenter({lat:+(null==r?void 0:r.latitude),lng:+(null==r?void 0:r.longitude)}),Q({lat:+(null==r?void 0:r.latitude),lng:+(null==r?void 0:r.longitude)}))}},[r]),(0,n.useEffect)(()=>{t||(ed(""),H((0,x.CP)()),h(!1),Y(!1),P({}),U(""))},[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(S,{anchor:(0,m.Bx)(),open:t,onClose:()=>{d(!1),w(!1)},ModalProps:{keepMounted:!0},classes:{paper:p().map__drawer},children:[(0,l.jsx)(_,{id:"map-script",children:"\n              function myMap() {\n                // creating a custom google map event and then firing it\n                const googleMapEvent = new Event('googleMapEvent');\n                document.dispatchEvent(googleMapEvent);\n              }\n          "}),(0,l.jsx)(_,{id:"google-maps",src:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAmgrEtH_LwLOPMEFRZM3BqK1dDc9aGLEw","&callback=myMap&libraries=places")}),(0,l.jsxs)("div",{className:p().map__box,children:[(0,l.jsxs)("div",{className:p().map__predictions,children:[(0,l.jsxs)("div",{className:p().map__input,children:[(0,l.jsx)("input",{type:"text",name:"autocomplete",id:"autocomplete",placeholder:"Search your location",style:(null==X?void 0:X.length)>0?{borderBottomLeftRadius:"0",borderBottomRightRadius:"0"}:{},value:V,onChange:e=>U(e.target.value)}),(0,l.jsx)("div",{className:p().map__input__icon,onClick:()=>{d(!1),Z&&w(!1)},children:(0,l.jsx)(o.Z,{color:"inherit",fontSize:"inherit"})}),(0,l.jsx)("div",{className:p().map__input__icon2,children:el?(0,l.jsx)(g.Z,{size:15,style:{color:"#a7a7a7"},thickness:6}):V?(0,l.jsx)(E.Z,{onClick:()=>U(""),className:p().map__input__crossIcon}):(0,l.jsx)(A.Z,{className:p().map__input__searchIcon})})]}),X&&(null==X?void 0:X.length)>0&&(0,l.jsx)("div",{className:p().map__predictions__container,children:X.map((e,s)=>{let t=e.terms[0].value;return(0,l.jsxs)("div",{className:p().map__predictions__item,onClick:()=>{P({}),e_(e.place_id)},children:[(0,l.jsx)("p",{children:t}),(0,l.jsx)("p",{children:e.description})]},s)})})]}),(0,l.jsx)("div",{ref:q,id:"map",className:p().map__container}),(0,l.jsxs)("div",{className:p().map__location,children:[(0,l.jsx)(y,{selectedLocation:r,locationLoading:$,permissionDeniedMsg:ee,selectedAddress:et,setErrorMessage:T,setOpenAddressDetailsDrawer:u,setOpenSelectMMILocationDrawer:d,setCityId:v,isEditing:f,setIsEditing:h,setAddressDetailsType:D,locationInfo:M,setLocationInfo:L,center:G,addressDetailsType:O,addingNewAddress:Z}),(0,l.jsxs)("button",{className:p().map__detect,disabled:ei,onClick:()=>{J(!0),es(!1),ea(!0),eh("autodetect","Please grant location permission"),K([]),U("")},children:[(0,l.jsx)("div",{className:p().map__detect__icon,children:(0,l.jsx)(b,{style:{width:"100%",height:"100%"}})}),(0,l.jsx)("p",{children:ei?"Locating...":"Locate Me"})]})]})]})]}),(null==F?void 0:null===(s=F.pathname)||void 0===s?void 0:s.includes("myaddress"))&&(0,l.jsx)(j.Z,{message:B,setMessage:T,autoHideTime:3e3,elemId:"error-msg"})]})};var D=Z},52761:function(e){e.exports={delete__address__wrapper:"DeleteAddress_delete__address__wrapper__Ac7NX",head:"DeleteAddress_head__x7vcw",cross:"DeleteAddress_cross__McQmM",mid:"DeleteAddress_mid__tq26b",btn__wrapper:"DeleteAddress_btn__wrapper__tH3oW",button:"DeleteAddress_button__Ftc_l"}},5939:function(e){e.exports={addressesCont:"Address_addressesCont__tM4dV",addressCont:"Address_addressCont__cqT8P",addressName:"Address_addressName__PoG84",addressEdit:"Address_addressEdit__cv4Pz",addButtonCont:"Address_addButtonCont__qtfw1",addButton:"Address_addButton__s1BSq"}},60713:function(e){e.exports={slideIn:"EntryExitTransition_slideIn__6XbWT","slide-in":"EntryExitTransition_slide-in__x_1r4",slideOut:"EntryExitTransition_slideOut__6rfab","slide-out":"EntryExitTransition_slide-out__cK_wv"}},85867:function(e){e.exports={address__drawer:"addressInfo_address__drawer__hMJX4",address__head:"addressInfo_address__head__H8pyW",address__selected:"addressInfo_address__selected__Sa35Y",address__saveAs:"addressInfo_address__saveAs__zYgl_",address__head__close:"addressInfo_address__head__close__9ZiI9",address__selected__container:"addressInfo_address__selected__container__Xncan",address__selected__title:"addressInfo_address__selected__title__jFsCn",address__selected__locationIcon:"addressInfo_address__selected__locationIcon__VwvQa",address__selected__editIcon:"addressInfo_address__selected__editIcon__RbDp0",address__saveAs__options:"addressInfo_address__saveAs__options__bAT_7",address__saveAs__item:"addressInfo_address__saveAs__item__XQcEn",address__saveAs__inputs:"addressInfo_address__saveAs__inputs__6E6m4",address__saveAs__btns:"addressInfo_address__saveAs__btns__F_HnT",address__saveAs__btns__delete:"addressInfo_address__saveAs__btns__delete__hX83v",address__input:"addressInfo_address__input__mBUAY"}},83158:function(e){e.exports={map:"styles_map__OcEiv",map__box:"styles_map__box__3d1kM",map__predictions:"styles_map__predictions__3PS_1",map__predictions__container:"styles_map__predictions__container__UhiWl",map__predictions__item:"styles_map__predictions__item__e6pO6",map__input:"styles_map__input__UnAIA",map__input__icon:"styles_map__input__icon__iVZv0",map__input__icon2:"styles_map__input__icon2__gZCJl",map__input__searchIcon:"styles_map__input__searchIcon__BORhi",map__input__crossIcon:"styles_map__input__crossIcon__HL5N1",map__container:"styles_map__container__PLnmr",map__location:"styles_map__location__IxLc0",map__location__selected:"styles_map__location__selected___O7bj",map__location__selected__icon:"styles_map__location__selected__icon__Zo8Th",map__location__selected__details:"styles_map__location__selected__details__6Q5n3",map__location__shimmer:"styles_map__location__shimmer__qQ3Pa",map__fullAddress:"styles_map__fullAddress__73Q7J",map__detect:"styles_map__detect__IXZOQ",map__detect__icon:"styles_map__detect__icon__dGN5K",map__drawer:"styles_map__drawer__GGK_7"}}}]);