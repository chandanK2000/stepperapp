(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2222],{26215:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var i=o(n(64938)),s=n(85893),l=(0,i.default)((0,s.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=l},22927:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var i=o(n(64938)),s=n(85893),l=(0,i.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z"}),"InfoRounded");t.Z=l},48317:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var i=o(n(64938)),s=n(85893),l=(0,i.default)((0,s.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");t.Z=l},69368:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var o=n(63366),i=n(87462),s=n(67294),l=n(86010),a=n(94780),r=n(41796),d=n(21964),c=n(88169),u=n(85893),p=(0,c.Z)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),m=(0,c.Z)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),h=(0,c.Z)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),v=n(98216),_=n(71657),x=n(90948),f=n(1588),g=n(34867);function j(e){return(0,g.Z)("MuiCheckbox",e)}let C=(0,f.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),b=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],k=e=>{let{classes:t,indeterminate:n,color:o}=e,s={root:["root",n&&"indeterminate",`color${(0,v.Z)(o)}`]},l=(0,a.Z)(s,j,t);return(0,i.Z)({},t,l)},y=(0,x.ZP)(d.Z,{shouldForwardProp:e=>(0,x.FO)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t[`color${(0,v.Z)(n.color)}`]]}})(({theme:e,ownerState:t})=>(0,i.Z)({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===t.color?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,r.Fq)("default"===t.color?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${C.checked}, &.${C.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${C.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),w=(0,u.jsx)(m,{}),S=(0,u.jsx)(p,{}),M=(0,u.jsx)(h,{}),N=s.forwardRef(function(e,t){var n,a;let r=(0,_.Z)({props:e,name:"MuiCheckbox"}),{checkedIcon:d=w,color:c="primary",icon:p=S,indeterminate:m=!1,indeterminateIcon:h=M,inputProps:v,size:x="medium",className:f}=r,g=(0,o.Z)(r,b),j=m?h:p,C=m?h:d,N=(0,i.Z)({},r,{color:c,indeterminate:m,size:x}),P=k(N);return(0,u.jsx)(y,(0,i.Z)({type:"checkbox",inputProps:(0,i.Z)({"data-indeterminate":m},v),icon:s.cloneElement(j,{fontSize:null!=(n=j.props.fontSize)?n:x}),checkedIcon:s.cloneElement(C,{fontSize:null!=(a=C.props.fontSize)?a:x}),ownerState:N,ref:t,className:(0,l.Z)(P.root,f)},g,{classes:P}))});var P=N},96785:function(e,t,n){"use strict";var o,i,s=n(67294);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}t.Z=function(e){return s.createElement("svg",l({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=s.createElement("path",{d:"M4.795 7.056a2.262 2.262 0 0 1 2.26-2.262h1.03c.597 0 1.169-.237 1.593-.657l.719-.72a2.262 2.262 0 0 1 3.199-.009v.001l.01.008.72.72a2.26 2.26 0 0 0 1.593.657h1.028a2.262 2.262 0 0 1 2.262 2.262v1.027c0 .597.236 1.17.657 1.594l.72.72c.886.881.89 2.313.01 3.2h-.001l-.01.01-.72.72a2.256 2.256 0 0 0-.656 1.591v1.03a2.26 2.26 0 0 1-2.261 2.26h-1.031a2.26 2.26 0 0 0-1.593.658l-.72.72a2.261 2.261 0 0 1-3.197.011l-.003-.003-.01-.009-.718-.719a2.263 2.263 0 0 0-1.593-.658H7.056a2.26 2.26 0 0 1-2.261-2.26v-1.032c0-.597-.237-1.169-.658-1.592l-.72-.72a2.26 2.26 0 0 1-.008-3.2l.009-.009.719-.72c.42-.424.658-.996.658-1.594V7.056M9.43 14.574l5.14-5.14",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=s.createElement("path",{d:"M14.495 14.5h.01M9.495 9.5h.01",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}},72590:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return n(9462)}])},53457:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var o=n(85893),i=n(67294),s=n(98456),l=n(93321),a=n(84808),r=n(16628),d=n(87357),c=n(84384),u=n.n(c);let p=e=>{let{confirmMsg:t,setOpenConfirmModal:n,setConfirmModalRes:i,showCircularProgress:l}=e;return(0,o.jsxs)("div",{className:u().confirmModal,id:"confirm_modal",children:[(0,o.jsx)("div",{className:u().confirmModal__msg,dangerouslySetInnerHTML:{__html:t}}),(0,o.jsxs)("div",{className:u().confirmModal__btnGroup,children:[(0,o.jsx)("button",{className:u().confirmModal__btn_yes,onClick:()=>i(!0),disabled:l,children:l?(0,o.jsx)(s.Z,{size:15,thickness:6,style:{color:"#0E3F6C"}}):"Yes"}),(0,o.jsx)("button",{className:u().confirmModal__btn_no,onClick:()=>n(!1),disabled:l,children:"No"})]})]})},m=e=>{let{confirmMsg:t,openConfirmModal:n,setOpenConfirmModal:s,setConfirmModalRes:c,showCircularProgress:m}=e,[h,v]=(0,i.useState)("");return(0,i.useEffect)(()=>{t&&v(t)},[t]),(0,o.jsx)(l.Z,{open:n,onClose:()=>!m&&s(!1),closeAfterTransition:!0,slots:{backdrop:a.Z},slotProps:{backdrop:{timeout:500}},children:(0,o.jsx)(r.Z,{in:n,children:(0,o.jsx)(d.Z,{className:u().centre,children:(0,o.jsx)(p,{confirmMsg:t||h,setOpenConfirmModal:s,setConfirmModalRes:c,showCircularProgress:m})})})})}},54135:function(e,t,n){"use strict";var o=n(85893),i=n(25675),s=n.n(i),l=n(32151),a=n.n(l);let r=e=>{let{imgSrc:t,head:n,subHead:i,btnText:l,onClick:r}=e;return(0,o.jsxs)("div",{className:a().cont,children:[(0,o.jsx)(s(),{src:t,height:128,width:128}),(0,o.jsx)("h6",{children:n}),(0,o.jsx)("p",{children:i}),(0,o.jsx)("button",{onClick:()=>r(),children:l})]})};r.defaultProps={imgSrc:"https://staticcdn.redcliffelabs.com/media/gallary-file/None/942208c5-ebe6-4c39-b3e2-7967f21ab95c.png"},t.Z=r},59031:function(e,t,n){"use strict";var o=n(85893),i=n(30159),s=n.n(i);let l=()=>(0,o.jsxs)("div",{className:s().shimmerHeaderContainer,children:[(0,o.jsxs)("div",{className:s().shimmerHeaderTopBar,children:[(0,o.jsx)("span",{className:"".concat(s().shimmerHeaderLogo," ").concat(s().shimmerEffect)}),(0,o.jsx)("div",{className:s().shimmerHeaderTopSpansContainer,children:Array.apply(null,[,,,,]).map((e,t)=>(0,o.jsx)("span",{className:"".concat(s().shimmerHeaderTopSpan," ").concat(s().shimmerEffect)},t))})]}),(0,o.jsx)("div",{className:s().shimmerHeaderNavBar,children:Array.apply(null,[,,,,]).map((e,t)=>(0,o.jsx)("span",{className:"".concat(s().shimmerHeaderNavSpan," ").concat(s().shimmerEffect)},t))})]});t.Z=l},9462:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return tl}});var o,i,s,l,a,r,d,c,u,p=n(85893),m=n(9008),h=n.n(m),v=n(98456),_=n(20984),x=n(27287),f=n(54135),g=n(67294),j=n(11163),C=n(47491),b=n(30596),k=n(25614),y=n.n(k);let w=e=>{let{duration:t,delay:n,id:o}=e;return(0,p.jsxs)("svg",{width:"20",height:"14",viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{id:o,children:[(0,p.jsx)("stop",{offset:"0",stopColor:"#31CCB0",children:(0,p.jsx)("animate",{dur:t,attributeName:"offset",fill:"freeze",from:"0",to:"1"})}),(0,p.jsx)("stop",{offset:"0",stopColor:"#fff",children:(0,p.jsx)("animate",{dur:t,attributeName:"offset",fill:"freeze",from:"0",to:"1"})})]})}),(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.71107 12.5773L0.508592 7.28964C-0.203657 6.56573 -0.162775 5.42041 0.599541 4.74405C1.36186 4.06768 2.56794 4.10661 3.28019 4.83041L7.29316 8.90902L13.6452 3.27315C13.7023 3.22241 13.762 3.17593 13.8237 3.13317L16.8108 0.482919C17.5731 -0.193446 18.7793 -0.154517 19.4914 0.569392C20.2037 1.29319 20.1627 2.43862 19.4005 3.11499L10.2771 11.2098L10.2674 11.1999L7.11149 14L5.71107 12.5773Z",fill:"url(#".concat(o,")")})]})},S=e=>{let{currentStep:t,setCurrentStep:n,onClick:o}=e,{setErrorMessage:i}=(0,b.j)(),s=(0,C.hU)(),l=(e,n)=>{t>n?window.history.go(n-t):n>t&&i("Please complete the current step")};return(0,p.jsxs)("div",{className:y().cont,id:"cart-stepper",children:[(0,p.jsx)("div",{className:y().stepsCont,children:e9.map((e,n)=>(0,p.jsxs)("div",{className:y().stepCont,children:[(0,p.jsx)("div",{className:"".concat(y().step," "),onClick:e=>l(e,n),style:{background:n===t?"#164A7A":n<t?"#F5F5F5":"#9D9FA1",transition:n===t?"all 0ms linear 250ms":"",cursor:"mobile"===s?"none":t>n?"pointer":t===n?"default":"not-allowed"},children:t>n?(0,p.jsx)(w,{duration:"100ms",id:e.name}):(0,p.jsx)("span",{className:y().number,children:n+1})}),(0,p.jsx)("span",{dangerouslySetInnerHTML:{__html:e.name}})]},e.name))}),(0,p.jsx)("hr",{className:y().line,style:{backgroundPosition:100-33*Math.max(0,t)+"% 0"}})]})};var M=n(53457),N=n(44868),P=n(86436),E=n(55509);function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var Z=function(e){return g.createElement("svg",H({width:"1em",height:"1em",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=g.createElement("g",{clipPath:"url(#cross-rounded_svg__clip0_7766_10431)",fill:"#000"},g.createElement("path",{d:"M12.833 24c-6.617 0-12-5.383-12-12s5.383-12 12-12 12 5.383 12 12-5.383 12-12 12Zm0-22.5c-5.79 0-10.5 4.71-10.5 10.5s4.71 10.5 10.5 10.5 10.5-4.71 10.5-10.5-4.71-10.5-10.5-10.5Z"}),g.createElement("path",{d:"M9.121 16.462a.75.75 0 0 1-.53-1.28l7.425-7.426a.75.75 0 0 1 1.061 1.061l-7.425 7.425a.75.75 0 0 1-.53.22Z"}),g.createElement("path",{d:"M16.545 16.462a.744.744 0 0 1-.53-.22L8.59 8.818a.75.75 0 1 1 1.061-1.061l7.425 7.425a.75.75 0 0 1-.53 1.28Z"}))),i||(i=g.createElement("defs",null,g.createElement("clipPath",{id:"cross-rounded_svg__clip0_7766_10431"},g.createElement("path",{fill:"#fff",transform:"translate(.833)",d:"M0 0h24v24H0z"})))),s||(s=g.createElement("script",null,"try{\n    function cart1218() {\n      const style = [\n      'background: #000',\n      'color: #fff',\n      'padding: 10px 20px',\n      'line-height: 35px'\n      ].join(';');\n      console.log('%c C o d e d  w i t h  ♥️  b y L o k e s h  G u p t a', style);\n    }\n    window['cart' + '_' + 'made' + '_' + 'by'] = function(){\n      console.log(`\n        +-+-+-+-+-+ +-+-+-+-+ +-+-+-+-+ +-+-+ +-+-+-+-+-+-+ +-+-+-+-+-+\n        |c|o|d|e|d| |w|i|t|h| |L|o|v|e| |b|y| |L|o|k|e|s|h| |G|u|p|t|a|\n        +-+-+-+-+-+ +-+-+-+-+ +-+-+-+-+ +-+-+ +-+-+-+-+-+-+ +-+-+-+-+-+\n      `);\n    }\n  } catch {}")))},O=n(23482),A=n.n(O);let D=()=>{var e,t,n,o;let i=(0,j.useRouter)(),{cart:s,removePackageFromCart:l,loading:a}=(0,b.j)(),r=(0,C.Pk)(),[d,c]=(0,g.useState)(null),[u,m]=(0,g.useState)(!1),[h,v]=(0,g.useState)(null);(0,g.useEffect)(()=>{if(u){var e,t,n;l(null==d?void 0:null===(e=d.product)||void 0===e?void 0:e.id,null==d?void 0:null===(t=d.product)||void 0===t?void 0:null===(n=t.package)||void 0===n?void 0:n.id,{...d}),r||(m(!1),c(null))}},[u]),(0,g.useEffect)(()=>{d&&!a&&(m(!1),c(null))},[a]);let _=(e,t)=>{(0,E.H$)(e,250),v(t)},x=(e,t)=>{c({...t})},f=e=>{(0,E.H$)(e,250),gtag&&gtag("event","cart_confirm_tests_addmore",{page_title:"Confirm tests"}),i.push("/search")};return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:A().cont,children:[(0,p.jsx)("h6",{children:"Selected tests / packages"}),(0,p.jsx)("div",{className:A().packageCardsCont,children:(0,p.jsx)(N.Z,{children:s.map((e,t)=>{var i,s,l,a,r;return(0,p.jsxs)("div",{className:A().packageCard,children:[(0,p.jsxs)("span",{onClick:t=>{var n;return _(t,null==e?void 0:null===(n=e.product)||void 0===n?void 0:n.package)},children:[e.product.package.name,"\xa0\xa0\xa0\xa0\xa0"]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{children:["₹",null!==(n=null===(i=e.product.package)||void 0===i?void 0:null===(s=i.package_city_prices)||void 0===s?void 0:s.offer_price)&&void 0!==n?n:e.product.package.offer_price]}),(0,E.R5)(null==e?void 0:null===(l=e.product)||void 0===l?void 0:l.package)&&(0,p.jsxs)("span",{children:["₹",null!==(o=null===(a=e.product.package)||void 0===a?void 0:null===(r=a.package_city_prices)||void 0===r?void 0:r.package_price)&&void 0!==o?o:e.product.package.package_price]})]}),(0,p.jsx)(Z,{onClick:t=>x(t,e)})]},e.product.id)})})}),(0,p.jsx)("button",{className:A().addMore,onClick:e=>f(e),children:"+ Add more tests"})]}),(0,p.jsx)(P.Z,{showPackageDetailsDrawer:!!h,setShowPackageDetailsDrawer:()=>v(null),packageDetails:h,showAdd:!1}),(0,p.jsx)(M.Z,{confirmMsg:d?"Delete <em>".concat(null==d?void 0:null===(e=d.product)||void 0===e?void 0:null===(t=e.package)||void 0===t?void 0:t.name,"&nbsp;?</em>"):"",openConfirmModal:!!d,setOpenConfirmModal:()=>c(null),setConfirmModalRes:m,showCircularProgress:a})]})};var T=n(90258),R=n(39005),B=n(2664),F=n(56559),I=n(89070),L=n(48317),z=n(55788),V=n(10988),$=n.n(V);let U=e=>{let{setOpen:t,setMemberToEdit:n,setOpenAddEditMember:o}=e,{setErrorMessage:i,setError:s}=(0,b.j)(),l=(0,B.useSelector)(F.ad),a=(e,t)=>{(0,E.H$)(e,250),(null==t?void 0:t.is_synced)?(i(I.b_.edit_member_not_allowed),s(!0)):(n(t),o(!0))},r=e=>{t(!1)};return(0,p.jsxs)("div",{className:$().editPatients,children:[(0,p.jsxs)("div",{className:$().editPatientsHead,children:[(0,p.jsx)("h6",{children:"Edit Patient Details"}),(0,p.jsx)(z.$iT,{onClick:r})]}),(0,p.jsx)("div",{className:$().editPatientsList,children:l.map(e=>(0,p.jsxs)("div",{className:$().editPatient,onClick:t=>a(t,e),children:[(0,p.jsx)("p",{children:"".concat(null==e?void 0:e.first_name," | ").concat(null==e?void 0:e.customer_age," | ").concat(null==e?void 0:e.customer_gender)}),(0,p.jsx)(L.Z,{})]},null==e?void 0:e.id))})]})},W=e=>{let{open:t,setOpen:n,setMemberToEdit:o,setOpenAddEditMember:i}=e;return(0,p.jsx)(R.Z,{anchor:(0,E.Bx)(),open:t,onOpen:()=>n(!0),onClose:()=>{n(!1)},sx:{"& .MuiDrawer-paper":{height:(0,E.W)("420px"),borderRadius:(0,E.s_)()},"&.MuiDrawer-modal":{zIndex:"2100"}},children:(0,p.jsx)(U,{setOpen:n,setMemberToEdit:o,setOpenAddEditMember:i})})},G=e=>{let{currentStep:t}=e,{membersToPackageIds:n}=(0,b.j)(),[o,i]=(0,g.useState)(!1),[s,l]=(0,g.useState)(!1),[a,r]=(0,g.useState)(!1),[d,c]=(0,g.useState)(null),u=(0,B.useSelector)(F.ad),m=(0,B.useSelector)(F.dn);(0,g.useEffect)(()=>{1===t&&(null==u?void 0:u.length)===0&&v(null)},[t,u]),(0,g.useEffect)(()=>{a&&!m&&r(!1)},[m]);let h=e=>{(0,E.H$)(e,250),i(!0)},v=e=>{e&&(0,E.H$)(e,250),n.length<5&&r(!0),l(!0)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:$().buttonsCont,style:{marginTop:(null==u?void 0:u.length)===0?"0":"20px"},children:[(0,p.jsx)("button",{onClick:h,style:{display:(null==u?void 0:u.length)===0?"none":"inline-block"},children:(0,p.jsx)("span",{children:"Edit patients"})}),(0,p.jsx)("button",{onClick:v,style:{width:(null==u?void 0:u.length)===0?"100%":"calc(100% - 16px)"},children:(0,p.jsx)("span",{children:"+ Add patient"})})]}),(0,p.jsx)(W,{open:o,setOpen:i,setMemberToEdit:c,setOpenAddEditMember:l}),(0,p.jsx)(T.Z,{open:s,setOpen:l,memberDetails:d,setMemberDetails:c,head:d?"Edit Details":"Add Patient",submitButtonText:d?"Update":"Add Patient",addPackagesForMember:a})]})};var q=n(3569),Q=n(99873),X=n.n(Q);let Y=()=>(0,p.jsxs)("div",{className:X().cont,children:[[1,2,3].map((e,t)=>(0,p.jsxs)("div",{className:X().bar,children:[(0,p.jsx)(q.Z,{forceShimmer:!0,style:{height:0===t?"25px":"20px",borderRadius:"5px",width:"100%",margin:"0"}}),(0,p.jsx)("div",{className:X().square})]},t)),(0,p.jsx)("hr",{style:{height:"1px",background:"linear-gradient(to right, transparent 18px, #d9d9d9 18px calc(100vw - 12px), transparent calc(100vw - 12px))"}})]});var J=n(22994),K=n(69368),ee=n(23508),et=n(18416),en=n.n(et);let eo=e=>{let{memberDetails:t,initialShowTests:n,index:o,isAdded:i,setShowAlertModal:s,highlightError:l}=e,{cart:a,membersToPackageIds:r,addPackagesToMember:d,removePackagesFromMember:c,loading:u,setErrorMessage:m}=(0,b.j)(),h=(0,B.useDispatch)(),_=(0,C.hU)(),[x,f]=(0,g.useState)(n),[j,k]=(0,g.useState)(null),[y,w]=(0,g.useState)(!1),[S,N]=(0,g.useState)(""),[P,H]=(0,g.useState)(""),[Z,O]=(0,g.useState)(!1);(0,g.useEffect)(()=>{if(0===o&&x){let e=document.getElementById((null==t?void 0:t.id)+"-tests-cont");if(e){let t=document.documentElement;t.style.setProperty("--cart-patient-test-max-height",e.scrollHeight+"px"),t.style.setProperty("--cart-patient-test-max-height-transition-duration",(null==a?void 0:a.length)*50+"ms")}}},[x]),(0,g.useEffect)(()=>{!u&&(y&&w(!1),S&&N(""),j&&k(null),Z&&O(!1),y&&i&&(h((0,F.hr)()),setTimeout(()=>{let e=document.getElementById("patient-card-".concat(null==t?void 0:t.id));e&&("mobile"===_?e.scrollIntoView({behavior:"smooth"}):window.scrollTo({top:0,left:0,behavior:"smooth"})),f(!0)},500)))},[u]),(0,g.useEffect)(()=>{Z&&j&&c([...j.productIds],null==t?void 0:t.id)},[Z]),(0,g.useEffect)(()=>{i&&r.length<5&&D(null,!0)//!isPatientSelected() && 
},[i]);let A=()=>{let e=!1;for(let o=0;o<a.length;o++){var n;let i=a[o];if(null==i?void 0:null===(n=i.members)||void 0===n?void 0:n.some(e=>(null==e?void 0:e.id)===(null==t?void 0:t.id))){e=!0;break}}return e},D=function(e){var n;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.id)==="".concat(null==t?void 0:t.id,"-checkbox")||o){let e=a.map(e=>{var t;return null==e?void 0:null===(t=e.product)||void 0===t?void 0:t.id}),n=a.map(e=>{var t,n,o,i;return{id:null==e?void 0:null===(t=e.product)||void 0===t?void 0:null===(n=t.package)||void 0===n?void 0:n.id,name:null==e?void 0:null===(o=e.product)||void 0===o?void 0:null===(i=o.package)||void 0===i?void 0:i.name}});A()&&!o?(k({productIds:e}),H("Remove <em>".concat(null==t?void 0:t.first_name,"</em>&nbsp;?"))):r.length<5?(d(e,n,null==t?void 0:t.id),w(!0)):(m(I.b_.max_members),s(!0))}else(0,E.H$)(e,250),f(!x)},T=e=>{let n=!1;for(let l=0;l<a.length;l++){var o,i,s;let r=a[l];if((null==r?void 0:null===(o=r.product)||void 0===o?void 0:null===(i=o.package)||void 0===i?void 0:i.id)===(null==e?void 0:e.id)){(null==r?void 0:null===(s=r.members)||void 0===s?void 0:s.some(e=>(null==e?void 0:e.id)===(null==t?void 0:t.id)))&&(n=!0);break}}return n},R=(e,n)=>{var o,i,l,a,c,u,p,h,v;(0,E.H$)(e,250),T(null==n?void 0:null===(o=n.product)||void 0===o?void 0:o.package)?(k({productIds:[null==n?void 0:null===(i=n.product)||void 0===i?void 0:i.id],packageName:null==n?void 0:null===(l=n.product)||void 0===l?void 0:null===(a=l.package)||void 0===a?void 0:a.name}),H("Remove <em>".concat(null==n?void 0:null===(c=n.product)||void 0===c?void 0:null===(u=c.package)||void 0===u?void 0:u.name,"</em> for <em>").concat(null==t?void 0:t.first_name,"</em>&nbsp;?"))):r.length<5||(null==r?void 0:r.some(e=>(null==e?void 0:e.id)===(null==t?void 0:t.id)))?(d([null==n?void 0:null===(p=n.product)||void 0===p?void 0:p.id],[null==n?void 0:null===(h=n.product)||void 0===h?void 0:h.package],null==t?void 0:t.id),N(null==n?void 0:null===(v=n.product)||void 0===v?void 0:v.id)):(m(I.b_.max_members),s(!0))},L=()=>{let e=0;return a.forEach(n=>{var o;(null==n?void 0:null===(o=n.members)||void 0===o?void 0:o.some(e=>(null==e?void 0:e.id)===(null==t?void 0:t.id)))&&e++}),e};return(0,p.jsxs)(g.Fragment,{children:[(0,p.jsxs)("div",{className:en().patientCard,style:{background:A()?"linear-gradient(223.23deg, rgba(255, 255, 255, 0.5) -39.74%, rgba(249, 224, 219, 0.5) 94.44%)":"white"},id:"patient-card-".concat(null==t?void 0:t.id),children:[(0,p.jsxs)("div",{onClick:e=>D(e),className:en().patientDetailsCont,children:[y&&!i?(0,p.jsx)(v.Z,{size:18,thickness:6,className:en().patientProgess}):(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)(K.Z,{id:(null==t?void 0:t.id)+"-checkbox",checked:A(),sx:{"&.Mui-checked":{color:"#0E3F6C"},"& .MuiSvgIcon-root":{fontSize:24},flexShrink:"0",color:l?"transparent":"rgba(0, 0, 0, 0.6)",zIndex:1}}),l&&(0,p.jsx)(J.Z,{style:{height:"18px",width:"18px",borderRadius:"2px",top:"50%",left:"50%",transform:"translate(-50%,-50%)",position:"absolute",zIndex:0},thickness:"6px",delay:500,duration:1e3,primaryColor:"#e5184e",updateVariables:0===o,innerBorderRadius:0,iterations:2})]}),(0,p.jsx)("p",{children:"".concat(null==t?void 0:t.first_name," | ").concat(null==t?void 0:t.customer_age," | ").concat(null==t?void 0:t.customer_gender)}),L()?(0,p.jsxs)("em",{children:["(",L(),")"]}):null,(0,p.jsx)(ee.Z,{className:en().patientExpand,style:{transform:x?"rotate(-180deg)":"rotate(0deg)"}})]}),(0,p.jsx)("div",{className:en().testsCont,id:(null==t?void 0:t.id)+"-tests-cont",style:{maxHeight:x?"var(--cart-patient-test-max-height)":0},children:null==a?void 0:a.map((e,n)=>{var o,i,s,r,d;return(0,p.jsxs)(g.Fragment,{children:[(0,p.jsxs)("div",{onClick:t=>R(t,e),className:en().test,children:[(0,p.jsx)("p",{children:null==e?void 0:null===(o=e.product)||void 0===o?void 0:null===(i=o.package)||void 0===i?void 0:i.name}),S===(null==e?void 0:null===(s=e.product)||void 0===s?void 0:s.id)?(0,p.jsx)(v.Z,{size:18,thickness:6,className:en().patientProgess,style:{margin:"12px 12px 12px 52px"}}):(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)(K.Z,{className:en().testCheckbox,checked:T(null==e?void 0:null===(r=e.product)||void 0===r?void 0:r.package),sx:{"&.Mui-checked":{color:"#0E3F6C"},"& .MuiSvgIcon-root":{fontSize:24},marginLeft:"40px",flexHhrink:"0",color:l?"transparent":"rgba(0, 0, 0, 0.6)"}}),l&&(0,p.jsx)(J.Z,{style:{height:"18px",width:"18px",borderRadius:"2px",top:"12px",right:"mobile"===_?"12px":"8px",position:"absolute",zIndex:0},thickness:"6px",updateVariables:!1,innerBorderRadius:0})]})]}),n<(null==a?void 0:a.length)-1&&(0,p.jsx)("hr",{className:en().divider})]},(null==t?void 0:t.id)+"-"+(null==e?void 0:null===(d=e.product)||void 0===d?void 0:d.id))})})]}),(0,p.jsx)(M.Z,{openConfirmModal:!!j,setOpenConfirmModal:e=>!e&&k(null),confirmMsg:P,setConfirmModalRes:O,showCircularProgress:u})]},"patient-card-wrapper-".concat(null==t?void 0:t.id))},ei=e=>{let{currentStep:t,cartErrorMessage:n,setCartErrorMessage:o,showAlertModal:i,setShowAlertModal:s}=e,l=(0,B.useDispatch)(),{cart:a}=(0,b.j)(),r=(0,C.Pk)(),d=(0,C.hU)(),c=(0,B.useSelector)(F.ad),u=(0,B.useSelector)(F.dn),[m,h]=(0,g.useState)(!1),[v,_]=(0,g.useState)(!1),[x,f]=(0,g.useState)(!1);(0,g.useEffect)(()=>{null===c&&r&&l((0,F.Zw)())},[r]),(0,g.useEffect)(()=>{!x&&a.some(e=>{var t,n,o,i;return(null==e?void 0:null===(t=e.product)||void 0===t?void 0:t.id)&&(null==e?void 0:null===(n=e.product)||void 0===n?void 0:n.id)!==(null==e?void 0:null===(o=e.product)||void 0===o?void 0:null===(i=o.package)||void 0===i?void 0:i.id)})&&f(!0)},[a]),(0,g.useEffect)(()=>{1===t&&x&&!v&&(null==c?void 0:c.length)&&_(!0)},[c,t,x]);let j=(e,t)=>{let n=!1,o=!1;for(let l=0;l<a.length;l++){var i,s;let r=a[l];for(let l=0;l<(null==r?void 0:null===(i=r.members)||void 0===i?void 0:i.length);l++){let i=null===(s=null==r?void 0:r.members[l])||void 0===s?void 0:s.id;if(i===e&&(n=!0),i===t&&(o=!0),n&&o)return 1}}return n||o?0:-1},k=e=>e?"mobile"===d?"linear-gradient(to right, rgba(249, 224, 219, 0.5) 18px, rgb(217, 217, 217) 18px, rgb(217, 217, 217) calc(100vw - 12px), transparent calc(100vw - 12px))":"linear-gradient(to right, rgba(249, 224, 219, 0.5) 10px, rgb(217, 217, 217) 10px, rgb(217, 217, 217) calc(100% - 8px), transparent calc(100% - 8px))":"mobile"===d?"linear-gradient(to right, transparent 18px, #d9d9d9 18px calc(100vw - 12px), transparent calc(100vw - 12px))":"linear-gradient(to right, transparent 10px, #d9d9d9 10px calc(100% - 8px), transparent calc(100% - 8px))";return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:en().head,style:{marginBottom:(null==c?void 0:c.length)===0?"30px":"20px"},children:[(0,p.jsx)("h6",{children:"Add Patients"}),(0,p.jsxs)("p",{children:["Add patients & choose relative test under ",(0,p.jsx)("br",{}),"each patient"]})]}),1===t?c&&x?(0,p.jsxs)(g.Fragment,{children:[(0,p.jsx)("div",{className:en().patientsCont,children:null==c?void 0:c.map((e,t)=>{var n,o,i,l;let r=!1;return((null==c?void 0:c.length)===1||0===t||a.length<=4)&&(r=!0),(null==u?void 0:u.id)===(null==e?void 0:e.id)&&(r=(null==c?void 0:c.length)===1),(0,p.jsxs)(g.Fragment,{children:[t>0&&(0,p.jsx)("hr",{style:{height:"1px",background:0===j(null===(n=c[t-1])||void 0===n?void 0:n.id,null===(o=c[t])||void 0===o?void 0:o.id)?"transparent":1===j(null===(i=c[t-1])||void 0===i?void 0:i.id,null===(l=c[t])||void 0===l?void 0:l.id)?k(!0):k(!1)}}),(0,p.jsx)(eo,{initialShowTests:r,memberDetails:e,index:t,isAdded:!((null==u?void 0:u.id)!==(null==e?void 0:e.id))||0===t&&(null==c?void 0:c.length)===1&&!v,setShowAlertModal:s,highlightError:m},"patient-card-cont-"+(null==e?void 0:e.id))]},null==e?void 0:e.id)})}),(0,p.jsx)(G,{currentStep:t})]},"members-cont"):(0,p.jsxs)("div",{className:en().shimmerCont,children:[[1,2,3].map((e,t)=>(0,p.jsx)(Y,{},t))," "]}):null]})};var es=n(3328),el=n(74816),ea=n(37752),er=n.n(ea);let ed=e=>{let{currentStep:t,cartErrorMessage:n,showAlertModal:o}=e,i=(0,B.useSelector)(F.hq);return(0,p.jsxs)("div",{id:"cart-v5-address-slot-cont",children:[(0,p.jsxs)("div",{className:er().head,style:{marginBottom:(null==i?void 0:i.length)===0?"30px":"20px"},children:[(0,p.jsx)("h6",{children:"Sample Collection Address"}),(0,p.jsxs)("p",{children:["Select an address from where the sample ",(0,p.jsx)("br",{}),"will be picked"]})]}),(0,p.jsx)(es.Z,{currentStep:t,cartErrorMessage:n,showAlertModal:o}),(0,p.jsx)(el.Z,{currentStep:t,cartErrorMessage:n,showAlertModal:o})]})};var ec=n(26215),eu=n(675),ep=n(62626),em=n.n(ep);let eh=e=>{let{setOpenReviewDrawer:t}=e,{cart:n,collectionDate:o,collectionSlot:i}=(0,b.j)(),s=(0,B.useSelector)(F.Qm),l=(0,B.useSelector)(F.ad),[a,r]=(0,g.useState)(null),d=e=>{let t=!1;for(let i=0;i<n.length;i++){var o;let s=n[i];if(null==s?void 0:null===(o=s.members)||void 0===o?void 0:o.some(t=>(null==t?void 0:t.id)===(null==e?void 0:e.id))){t=!0;break}}return t},c=e=>{let t=[];return n.forEach(n=>{var o;(null==n?void 0:null===(o=n.members)||void 0===o?void 0:o.some(t=>(null==t?void 0:t.id)===(null==e?void 0:e.id)))&&t.push({...n.product.package})}),t},u=()=>{t(!1)},m=()=>{window.history.go(-1)},h=()=>{I.b_.slot_change=!0,window.history.go(-1)},v=e=>{window.history.go(-2)},_=e=>{(0,E.H$)(e,250),window.history.go(-3)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:em().cont,children:[(0,p.jsxs)("div",{className:em().headCont,children:[(0,p.jsx)("span",{children:"Review Booking"}),(0,p.jsx)(z.$iT,{onClick:u})]}),(0,p.jsxs)("div",{className:em().collectionDateSlot,children:[(0,p.jsx)("span",{children:"Sample Collection Address"}),(0,p.jsx)(eu.Z,{onClick:m}),(0,p.jsxs)("p",{children:[null==s?void 0:s.house_number,", ",null==s?void 0:s.address_line2,", ",null==s?void 0:s.street_name,","]}),(0,p.jsx)("p",{children:null==s?void 0:s.address_line1})]}),(0,p.jsxs)("div",{className:em().collectionDateSlot,style:{marginTop:"10px"},children:[(0,p.jsx)("span",{children:"Sample Collection Time"}),(0,p.jsx)(eu.Z,{onClick:h}),(0,p.jsxs)("p",{children:[(0,E.L0)(new Date(o))," | ",null==i?void 0:i.start_time1hr," - ",null==i?void 0:i.end_time1hr]})]}),(0,p.jsxs)("div",{className:em().patientsAndtestsCont,children:[(0,p.jsxs)("div",{className:em().testsHeadCont,children:[(0,p.jsx)("span",{children:"Tests"}),(0,p.jsx)("span",{onClick:_,children:"Edit Tests"})]}),(0,p.jsx)("div",{className:em().patientsCont,children:null==l?void 0:l.map((e,t)=>d(e)?(0,p.jsxs)("div",{className:em().patient,children:[(0,p.jsxs)("div",{className:em().patientHead,children:[(0,p.jsx)("p",{children:"".concat(null==e?void 0:e.first_name," | ").concat(null==e?void 0:e.customer_age," | ").concat(null==e?void 0:e.customer_gender)}),(0,p.jsx)(eu.Z,{onClick:()=>v(e)})]}),(0,p.jsx)("div",{className:em().patientTestsCont,children:c(e).map((t,n)=>{var o,i;return(0,p.jsxs)("div",{className:em().patientTest,children:[(0,p.jsx)("p",{children:t.name}),(0,p.jsxs)("div",{className:em().testprice,children:[(0,p.jsxs)("span",{children:["₹",(null==t?void 0:null===(o=t.package_city_prices)||void 0===o?void 0:o.package_price)||(null==t?void 0:t.package_price)]}),(0,E.R5)(t)&&(0,p.jsxs)("span",{children:["₹",(null==t?void 0:null===(i=t.package_city_prices)||void 0===i?void 0:i.offer_price)||(null==t?void 0:t.offer_price)]})]})]},"review-booking-"+(null==e?void 0:e.id)+"-"+(null==t?void 0:t.id))})})]},null==e?void 0:e.id):null)})]})]}),(0,p.jsx)(T.Z,{open:!!a,setOpen:()=>r(null),memberDetails:a,setMemberDetails:r,head:"Edit Details",submitButtonText:"Update",addPackagesForMember:!1})]})},ev=()=>{(0,C.hU)();let[e,t]=(0,g.useState)(!1),n=e=>{(0,E.H$)(e,400,"rgba(249, 224, 219, 0.6)"),t(!0)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:em().reviewCont,onClick:n,children:[(0,p.jsx)("span",{children:"Review Booking"}),(0,p.jsx)(ec.Z,{})]}),(0,p.jsx)(R.Z,{open:e,onOpen:()=>{},onClose:()=>{t(!1)},anchor:(0,E.Bx)(),sx:{"& .MuiDrawer-paper":{height:(0,E.W)("calc(100dvh - 60px)"),borderRadius:(0,E.s_)("15px 15px 0 0")}},children:(0,p.jsx)(eh,{setOpenReviewDrawer:t})})]})};function e_(){return(e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var ex=function(e){return g.createElement("svg",e_({width:"1em",height:"1em",viewBox:"0 0 17 21",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=g.createElement("path",{d:"m9.212 18.663-8.7-8.7v1.777c0 .471.186.924.524 1.253l6.923 6.923a1.78 1.78 0 0 0 2.514 0l5.519-5.519a1.78 1.78 0 0 0 0-2.515l-6.78 6.78Z",fill:"currentColot"})),a||(a=g.createElement("path",{d:"M7.959 15.471c.346.347.8.525 1.253.525.453 0 .906-.178 1.252-.525l5.519-5.518a1.78 1.78 0 0 0 0-2.515L9.06.515A1.776 1.776 0 0 0 7.807 0H2.29C1.311 0 .512.8.512 1.777v5.519c0 .47.186.924.524 1.253l6.923 6.922ZM2.289 1.777h5.518L14.73 8.7l-5.518 5.518-6.923-6.922V1.777Z",fill:"currentColot"})),r||(r=g.createElement("path",{d:"M4.289 4.888a1.11 1.11 0 1 0 0-2.222 1.11 1.11 0 0 0 0 2.222Z",fill:"currentColot"})))},ef=n(74808),eg=n.n(ef);let ej=e=>{let{coupon:t,couponToApply:n,setCouponToApply:o}=e,{applyCoupon:i,cartInfo:s}=(0,b.j)(),l=()=>{let e="Get ";if(t.is_red_cash){var n;t.additional_discount_type&&(null!==(n=t.additional_discount)&&void 0!==n?n:0)>0&&("percentage"===t.additional_discount_type?e+="<em>"+t.additional_discount+"% Off</em> + ":"amount"===t.additional_discount_type&&(e+="<em>₹"+t.additional_discount+" Off</em> + ")),"percentage"===t.discount_type?e+="<em>"+t.discount+"% Redcash</em>":"amount"===t.discount_type&&(e+="<em>₹"+t.discount+" Redcash</em>")}else"percentage"===t.discount_type?e+="<em>"+t.discount+"% Off</em>":"amount"===t.discount_type&&(e+="<em>₹"+t.discount+" Off</em>");return e},a=e=>{(0,E.H$)(e,250),o(t),i(t)},r=()=>{var e;return(null!==(e=t.minimum_price)&&void 0!==e?e:0)>s.discountedPrice};return(0,p.jsxs)("div",{className:eg().couponCard,children:[(0,p.jsxs)("div",{className:eg().couponCardHead,children:[(0,p.jsx)(ex,{}),(0,p.jsx)("span",{children:t.code}),(0,p.jsx)("button",{type:"button",onClick:a,style:{pointerEvents:r()?"none":"all",color:r()?"#A2A2A2":"#0E3F6C"},disabled:n,children:(null==n?void 0:n.id)===t.id?(0,p.jsx)(v.Z,{style:{color:"gray"},size:15,thickness:5}):"Apply"})]}),r()?(0,p.jsxs)("div",{className:eg().couponMinimumPrice,children:["Minimum Cart Value\xa0",(0,p.jsxs)("span",{children:["₹",null==t?void 0:t.minimum_price]})]}):null,l()&&(0,p.jsx)("span",{className:eg().couponOfferDetails,style:{color:r()?"#2F3032":"#659AC9",fontSize:r()?"13px":"14px"},dangerouslySetInnerHTML:{__html:l()}}),t.tnc&&(0,p.jsx)("ul",{className:eg().couponTnC,children:t.tnc.split("\r\n").map((e,n)=>(0,p.jsx)("li",{children:e},t.code+"-TnC-"+n))})]})},eC=e=>{let{open:t,setOpen:n}=e,{fetchCoupons:o,couponsData:i,offer:s,cartInfo:l,setErrorMessage:a,setError:r,loading:d,applyCoupon:c,isCouponValid:u}=(0,b.j)(),m=(0,C.hU)(),[h,_]=(0,g.useState)(""),[x,f]=(0,g.useState)(null),[j,k]=(0,g.useState)(!1);(0,g.useEffect)(()=>{o(),a(null)},[]),(0,g.useEffect)(()=>{!d&&(j&&k(!1),x&&f(null))},[d]);let y=()=>{gtag&&gtag("event","cart_apply_coupon",{page_title:"Payment"})};(0,g.useEffect)(()=>{"coupon"===s.type&&l.coupon.coupon&&!l.coupon.error&&(y(),n(!1)),_("")},[l.coupon]);let w=()=>{d||n(!1)},S=async e=>{let t=null==h?void 0:h.trim();if(t.match(/^[A-Z0-9]+$/i)){(0,E.H$)(e,250),k(!0);let n=await u(t);n.status?c(n.coupon,!0):(a(n.error),r(!0))}else a(I.b_.coupon_invalid),r(!0)};return(0,p.jsxs)("div",{className:eg().couponDrawerCont,children:[(0,p.jsxs)("div",{className:eg().couponDrawerSticky,children:[(0,p.jsxs)("div",{className:eg().redcashSummaryHeadCont,children:[(0,p.jsx)("span",{children:"Apply Coupons"}),(0,p.jsx)(z.$iT,{onClick:w})]}),(0,p.jsx)("div",{className:eg().couponFormCont,children:(0,p.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[(0,p.jsx)("input",{type:"text",placeholder:"Enter Coupon Code",value:h,onChange:e=>_(e.target.value)}),h&&(0,p.jsx)("button",{type:"submit",disabled:d,onClick:S,children:j?(0,p.jsx)(v.Z,{size:"14px",thickness:5,style:{verticalAlign:"middle",color:"gray"}}):"Apply"})]})})]}),!d||j||x?i.length?(0,p.jsxs)("div",{className:eg().couponListCont,children:[(0,p.jsx)("p",{children:"Select coupons from the list"}),(0,p.jsx)("div",{className:eg().couponCardsCont,children:i.map(e=>(0,p.jsx)(ej,{setOpen:n,coupon:e,couponToApply:x,setCouponToApply:f},e.code))})]}):(0,p.jsx)("span",{className:eg().noCouponsAval,children:"No Coupons Available"}):(0,p.jsx)("div",{children:Array.apply(null,[,,,]).map((e,t)=>(0,p.jsx)(q.Z,{cardBorderRadius:"15px",cardHeight:"mobile"===m?"120px":"150px",cardWidth:"mobile"===m?"calc(100% - 32px)":"400px",forceShimmer:!0},t))})]})},eb=()=>{let{offer:e,cartInfo:t,applyCoupon:n,loading:o}=(0,b.j)(),i=(0,C.hU)(),[s,l]=(0,g.useState)(!1),a=t=>{"coupon"!==e.type&&((0,E.H$)(t,250),l(!0))},r=e=>{(0,E.H$)(e,250),setTimeout(()=>{n(null)},250)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"".concat(eg().offerCont," ").concat(eg().couponCont," ").concat(null!==e.type&&"coupon"!==e.type?eg().disableOffer:""," ").concat("coupon"===e.type?eg().selectedOffer:""),onClick:e=>a(e),style:{cursor:"mobile"===i?"none":t.coupon.applied?"default":"pointer"},children:[(0,p.jsx)(ex,{}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:eg().offerHead,children:"coupon"===e.type?(0,p.jsxs)(p.Fragment,{children:["Applied ",(0,p.jsx)("em",{children:e.coupon.code})]}):"Select a coupon code"}),"coupon"===e.type&&(0,p.jsx)("p",{className:eg().offerSubHead,dangerouslySetInnerHTML:{__html:t.coupon.amount&&t.coupon.redcash?"you get <em>₹".concat(t.coupon.amount," off</em> + <em>₹").concat(t.coupon.redcash," redcash</em> with this coupon"):t.coupon.amount?"<em>you saved ₹".concat(t.coupon.amount,"</em> with this coupon"):t.coupon.redcash?"you get <em>₹".concat(t.coupon.redcash," redcash</em> on this booking"):void 0}})]}),"coupon"===e.type&&(0,p.jsx)("span",{onClick:e=>{r(e)},children:"Remove"})]}),(0,p.jsx)(R.Z,{anchor:(0,E.Bx)(),open:s,onClose:()=>{o||l(!1)},onOpen:()=>l(!0),sx:{"& .MuiDrawer-paper":{height:(0,E.W)(),borderRadius:(0,E.s_)()}},children:(0,p.jsx)(eC,{open:s,setOpen:l})})]})};var ek=n(22927);let ey=e=>{var t,n,o,i,s;let{setOpenRedcashDrawer:l}=e,{cartInfo:a,userInfo:r}=(0,b.j)();return(0,p.jsxs)("div",{className:eg().redcashSummaryCont,children:[(0,p.jsxs)("div",{className:eg().redcashSummaryHeadCont,children:[(0,p.jsx)("span",{children:"RedCash"}),(0,p.jsx)(z.$iT,{onClick:()=>l(!1)})]}),(0,p.jsxs)("div",{className:eg().redcashSummaryValuesCont,children:[(0,p.jsxs)("p",{children:["You can pay up to ",null!==(i=null==r?void 0:null===(t=r.redcash)||void 0===t?void 0:t.redcash_percentage)&&void 0!==i?i:"5","% of the order value ",(0,p.jsx)("br",{}),"in RedCash."]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"Points Available"}),(0,p.jsx)("span",{style:{color:"black"},children:null==r?void 0:null===(n=r.redcash)||void 0===n?void 0:n.coins})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"Points Redeemable"}),(0,p.jsx)("span",{style:{color:"black"},children:(null==a?void 0:null===(o=a.redcash)||void 0===o?void 0:o.amount)||Math.floor(Math.min(a.discountedPrice*((null!==(s=r.redcash.redcash_percentage)&&void 0!==s?s:10)/100),r.redcash.coins))})]})]})]})},ew=()=>{var e,t;let{cartInfo:n,userInfo:o,offer:i,applyRedCash:s}=(0,b.j)(),[l,a]=(0,g.useState)(!1),r=()=>{var e,t;!(null==n?void 0:null===(e=n.redcash)||void 0===e?void 0:e.applied)&&gtag&&gtag("event","cart_redeem_redcash",{page_title:"Payment"}),s(!(null==n?void 0:null===(t=n.redcash)||void 0===t?void 0:t.applied))},d=e=>{a(!0)};return(0,p.jsxs)(p.Fragment,{children:[(null==o?void 0:null===(e=o.redcash)||void 0===e?void 0:e.coins)?(0,p.jsxs)("div",{className:"".concat(eg().offerCont," ").concat(eg().redcashCont," ").concat(null!==i.type&&"redcash"!==i.type?eg().disableOffer:""," ").concat("redcash"===i.type?eg().selectedOffer:""),children:[(0,p.jsx)(K.Z,{checked:n.redcash.applied,onChange:()=>{var e;return(null==o?void 0:null===(e=o.redcash)||void 0===e?void 0:e.coins)&&r()},sx:{"&.Mui-checked":{color:"#0E3F6C"},"& .MuiSvgIcon-root":{fontSize:24},marginLeft:"4px"}}),(0,p.jsxs)("span",{className:eg().offerHead,children:["Redeem up to ",(0,p.jsxs)("em",{children:["₹",null==o?void 0:null===(t=o.redcash)||void 0===t?void 0:t.coins," RedCash"]})]}),(0,p.jsx)(ek.Z,{className:eg().info,onClick:d})]}):null,(0,p.jsx)(R.Z,{open:l,onOpen:()=>{},onClose:()=>{a(!1)},anchor:(0,E.Bx)(),sx:{"& .MuiDrawer-paper":{height:(0,E.W)("auto"),borderRadius:(0,E.s_)("15px 15px 0 0")}},children:(0,p.jsx)(ey,{setOpenRedcashDrawer:a})})]})},eS=e=>{let{setCartErrorMessage:t}=e,[n,o]=(0,g.useState)(!0),i=e=>{(0,E.H$)(e,250),o(!n)};return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:eg().headCont,onClick:i,children:[(0,p.jsx)("h6",{children:"Offers"}),(0,p.jsx)(ee.Z,{style:{transform:n?"rotate(-180deg)":"rotate(0deg)"}})]}),(0,p.jsxs)("div",{className:eg().offersWrapper,style:{maxHeight:n?"165px":"0px",paddingTop:n?"20px":"0px"},children:[(0,p.jsx)(ew,{}),(0,p.jsx)(eb,{setCartErrorMessage:t})]})]})};var eM=n(77956),eN=n.n(eM);let eP=e=>{var t,n,o,i,s,l,a,r,d,c,u;let{currentStep:m,setShowAlertModal:h}=e,{cart:v,cartInfo:_,userInfo:x,collectionSlot:f,offer:j,subscriptionInCart:C,isExpressSlot:k}=(0,b.j)(),y=(0,B.useSelector)(F.Go),[w,S]=(0,g.useState)(""),[M,N]=(0,g.useState)(!1),[P,H]=(0,g.useState)(!1),Z=()=>!!y.VIP_Status&&y.VIP_Bookings<10;(0,g.useEffect)(()=>{_.phleboCost?k(f)?S(I.b_.express_slot_charges):Z()?S(I.b_.vip_free_collection):S(""):S("")},[_.phleboCost,y.VIP_Status]);let O=()=>{let e={};if("coupon"===j.type){var t,n;e.message="Coupon ("+(null===(t=_.coupon)||void 0===t?void 0:null===(n=t.coupon)||void 0===n?void 0:n.code)+") Applied",e.amount=_.coupon.amount,_.coupon.redcash&&(e.additional_message="<em>₹"+_.coupon.redcash+" Redcash</em> Cashback")}else"redcash"===j.type&&(e.message="Redcash Applied",e.amount=_.redcash.amount);return e};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h6",{className:eN().head,children:"Price Details"}),(()=>{for(let t=0;t<v.length;t++){var e;let n=v[t];if(null==n?void 0:null===(e=n.members)||void 0===e?void 0:e.length)return!0}return!1})()?(0,p.jsxs)("div",{className:eN().wrapper,children:[(0,p.jsxs)("div",{className:eN().details,children:[(0,p.jsx)("p",{children:"Total Amount"}),(0,p.jsxs)("span",{children:["₹",_.offerPrice]})]},"cart-v5-total-amount"),(0,p.jsxs)("div",{className:eN().details,children:[(0,p.jsxs)("p",{children:["Home Collection Charges",w&&(0,p.jsx)(ek.Z,{className:eN().infoIcon,onClick:()=>N(!0)})]}),f&&_.phleboCost?(0,p.jsxs)("span",{style:{textDecorationLine:Z()&&!k(f)?"line-through":"none"},children:["₹",_.phleboCost]}):null,(!f||!k(f))&&(Z()||(null==_?void 0:_.phleboCost)===0)?(0,p.jsx)("span",{style:{fontWeight:Z()&&(null==_?void 0:_.phleboCost)?"500":"400"},children:"Free"}):null]},"cart-v5-collection-charges"),Z()?(0,p.jsxs)("div",{className:eN().details,children:[(0,p.jsx)("p",{children:"VIP Discount (10%)"}),(0,p.jsxs)("span",{children:["- ₹",_.vipDiscount]})]},"cart-v5-vip-discount"):null,C.status&&(0,p.jsxs)("div",{className:eN().details,children:[(0,p.jsx)("p",{children:"VIP Membership Fee"}),(0,p.jsxs)("span",{children:["₹",C.subscription.subscription_amount]})]},"cart-v5-membership-fee"),O().message&&(0,p.jsxs)("div",{className:eN().details,children:[(0,p.jsxs)("p",{children:[O().message," ",(null==_?void 0:null===(t=_.coupon)||void 0===t?void 0:t.amount)&&Z()?(0,p.jsx)(ek.Z,{className:eN().infoIcon,onClick:()=>H(!0)}):null]}),O().amount?(0,p.jsxs)("span",{children:["- ₹",O().amount]}):null]},"cart-v5-offer-applied"),O().additional_message&&(0,p.jsx)("p",{className:eN().additionalOfferMsg,dangerouslySetInnerHTML:{__html:O().additional_message}},"cart-v5-offer-add-message"),(0,p.jsxs)("div",{className:"".concat(eN().details," ").concat(eN().amountDetails),children:[(0,p.jsx)("p",{children:"Amount to be paid"}),(0,p.jsxs)("span",{children:["₹",_.discountedPrice+_.subscriptionAmount]})]},"cart-v5-amount-to-pay")]}):(0,p.jsx)("div",{className:"".concat(eN().details," ").concat(eN().amountDetails," ").concat(eN().zeroAmount),children:(0,p.jsx)("p",{children:0===m?"Amount would be calculated in the next step":"Add tests for the patients to get the amount"})})]}),(0,p.jsx)(R.Z,{open:M,onOpen:()=>{},onClose:()=>{N(!1)},anchor:(0,E.Bx)(),sx:{"& .MuiDrawer-paper":{height:(0,E.W)("auto"),borderRadius:(0,E.s_)("15px 15px 0 0")}},children:(0,p.jsxs)("div",{className:eN().collectionChargesDrawer,children:[(0,p.jsxs)("div",{className:eN().collectionDrawerHeadCont,children:[(0,p.jsx)("h6",{children:"Home Collection Charges"}),(0,p.jsx)(z.$iT,{onClick:()=>N(!1)})]}),(0,p.jsx)("div",{className:eN().collectionChargesMsgCont,children:(0,p.jsx)("p",{dangerouslySetInnerHTML:{__html:w}})})]})}),(0,p.jsx)(R.Z,{open:P,anchor:(0,E.Bx)(),onClose:()=>H(!1),onOpen:()=>H(!0),sx:{"& .MuiDrawer-paper":{height:(0,E.W)("auto"),borderRadius:(0,E.s_)("15px 15px 0 0")}},children:(0,p.jsxs)("div",{className:eN().collectionChargesDrawer,children:[(0,p.jsxs)("div",{className:eN().collectionDrawerHeadCont,children:[(0,p.jsx)("h6",{children:"Discount Details"}),(0,p.jsx)(z.$iT,{onClick:()=>H(!1)})]}),(0,p.jsxs)("div",{className:eN().discountInfoCont,children:[(null==_?void 0:null===(n=_.coupon)||void 0===n?void 0:null===(o=n.coupon)||void 0===o?void 0:o.upper_limit_percentage)?(0,p.jsxs)("p",{children:["You can get max ",null==_?void 0:null===(i=_.coupon)||void 0===i?void 0:null===(s=i.coupon)||void 0===s?void 0:s.upper_limit_percentage,"% discount with this booking."]}):null,(null==_?void 0:null===(l=_.coupon)||void 0===l?void 0:null===(a=l.coupon)||void 0===a?void 0:a.upper_limit)?(0,p.jsxs)("p",{children:["This coupon can give a maximum discount of ₹",null==_?void 0:null===(r=_.coupon)||void 0===r?void 0:null===(d=r.coupon)||void 0===d?void 0:d.upper_limit,"."]}):null,(0,p.jsxs)("div",{className:eN().couponBreakdownDetailsCont,children:[(0,p.jsxs)("div",{className:eN().couponBreakdownDetails,children:[(0,p.jsx)("p",{children:"Booking Amount"}),(0,p.jsxs)("span",{children:["₹",_.offerPrice+(_.phleboCost-_.vipPhleboCostDiscount)]})]}),y.VIP_Status&&(0,p.jsxs)("div",{className:eN().couponBreakdownDetails,children:[(0,p.jsx)("p",{children:"VIP Discount"}),(0,p.jsxs)("span",{children:["₹",null==_?void 0:_.vipDiscount]})]}),(0,p.jsxs)("div",{className:eN().couponBreakdownDetails,children:[(0,p.jsx)("p",{children:"Coupon Discount"}),(0,p.jsxs)("span",{children:["₹",null==_?void 0:null===(c=_.coupon)||void 0===c?void 0:c.amount]})]}),(0,p.jsxs)("div",{className:eN().couponBreakdownDetails,children:[(0,p.jsx)("p",{children:"Total Discount"}),(0,p.jsxs)("span",{children:["₹",(y.VIP_Status?null==_?void 0:_.vipDiscount:0)+(null==_?void 0:null===(u=_.coupon)||void 0===u?void 0:u.amount)]})]})]})]})]})})]})};var eE=n(78265);function eH(){return(eH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var eZ=function(e){return g.createElement("svg",eH({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),d||(d=g.createElement("circle",{cx:12,cy:12,r:11.5,fill:"#fff",stroke:"#9D9FA1"})),c||(c=g.createElement("g",{filter:"url(#vip-crown-5_svg__a)"},g.createElement("path",{d:"M12 0a12 12 0 1 0 12 12A12.052 12.052 0 0 0 12 0Zm6.932 9.258-1.99 7.956a.994.994 0 0 1-.967.753H8.022a.995.995 0 0 1-.968-.753L5.07 9.258a.994.994 0 0 1 1.79-.796c.273.4 1.257 1.549 2.158 1.549.165 0 .675-.383 1.2-1.568a9.336 9.336 0 0 0 .789-3.404.995.995 0 0 1 1.989 0 9.336 9.336 0 0 0 .788 3.404c.526 1.185 1.037 1.568 1.2 1.568.928 0 1.936-1.222 2.158-1.549a.994.994 0 0 1 1.791.796Z",fill:"url(#vip-crown-5_svg__b)"}))),u||(u=g.createElement("defs",null,g.createElement("linearGradient",{id:"vip-crown-5_svg__b",x1:0,y1:1.5,x2:26.773,y2:5.516,gradientUnits:"userSpaceOnUse"},g.createElement("stop",{stopColor:"#FFD02F"}),g.createElement("stop",{offset:1,stopColor:"#FFB452"})),g.createElement("filter",{id:"vip-crown-5_svg__a",x:0,y:0,width:24,height:24,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},g.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),g.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),g.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),g.createElement("feOffset",{dx:1,dy:1}),g.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),g.createElement("feColorMatrix",{values:"0 0 0 0 0.6875 0 0 0 0 0.6875 0 0 0 0 0.6875 0 0 0 0.42 0"}),g.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_4066_21938"})))))},eO=n(30929),eA=n.n(eO);let eD=()=>{let e=(0,B.useDispatch)(),{addRemoveSubscription:t,subscriptionInCart:n}=(0,b.j)(),o=(0,C.hU)(),i=(0,B.useSelector)(F.oh),s=(0,B.useSelector)(F.NH),[l,a]=(0,g.useState)(!1);(0,g.useEffect)(()=>{gtag&&gtag("event","rcl_vip_membership_status",{screen_name:"cart",is_vip:!1===i?0:1})},[]);let r=e=>{(null==n?void 0:n.subscription)||((0,E.H$)(e,250),a(!0),gtag&&gtag("event","cart_vip_explore_benefits",{}))},d=n=>{e((0,F.J_)(!0)),e((0,F.W7)(null==n?void 0:n.discount)),e((0,F.uj)(n.discount_type)),t(n,!0)},c=n=>{(0,E.H$)(n,250),e((0,F.J_)(!i)),t(null,!1),gtag&&gtag("event","vip_cart_remove_button",{screen_name:"cart",button_click:!0})};return(0,p.jsxs)(p.Fragment,{children:[(()=>{{let e=document.cookie;if((null==e?void 0:e.length)>0){let t=e.split(";");for(let e=0;e<t.length;e++)if(t[e].includes("times-prime=true"))return!0}return!1}})()||s||i&&(null==n||!n.subscription)?null:(0,p.jsxs)("div",{className:eA().cont,onClick:r,style:{cursor:"mobile"===o?"none":i?"default":"pointer"},children:[(0,p.jsx)(eZ,{}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:(null==n?void 0:n.status)?"Membership Added @"+n.subscription.subscription_amount:"Buy VIP membership"+("mobile"===o?"for more benefits":"")}),"mobile"!==o&&(0,p.jsx)("span",{children:"Get 10% off with every booking & more"})]}),(null==n?void 0:n.subscription)?(0,p.jsx)("span",{onClick:c,children:"Remove"}):(0,p.jsx)(ec.Z,{style:{fontSize:"2rem"}})]}),(0,p.jsx)(R.Z,{open:l,onOpen:()=>a(!0),anchor:(0,E.Bx)(),onClose:()=>{a(!1)},sx:{"& .MuiDrawer-paper":{height:(0,E.W)("calc(100dvh - 60px)"),borderRadius:(0,E.s_)("15px 15px 0 0"),background:"#0e3f6c"}},children:(0,p.jsx)(eE.Z,{setOpen:a,onBuyMembership:d})})]})};var eT=n(25675),eR=n.n(eT),eB=n(36872),eF=n(42010),eI=n.n(eF);let eL=e=>{let{paymentMode:t,setPaymentMode:n}=e,{cartInfo:o}=(0,b.j)(),i=e=>{(0,E.H$)(e,400,"rgb(255, 255, 255, 0.5)"),n(e.target.value)};return(0,p.jsx)(p.Fragment,{children:o.discountedPrice+o.subscriptionAmount?(0,p.jsxs)("div",{children:[(0,p.jsx)("h6",{className:eI().head,children:"Select Payment Option"}),(0,p.jsxs)("label",{className:eI().paymentLabel,style:{backgroundColor:"online"===t?"#F5F5F5":"#fff",border:"online"===t?"1px solid #0E3F6C":"1px solid #9D9FA1",marginTop:"20px"},htmlFor:"cart-v5-payment-online",onClick:i,children:[(0,p.jsx)(eB.Z,{checked:"online"===t,onChange:()=>{},value:"online",id:"cart-v5-payment-online",name:"payment-options",sx:{"& .MuiSvgIcon-root":{fontSize:20},"&.Mui-checked":{color:"#0E3F6C"},padding:0,color:"#2F3032"}}),(0,p.jsx)("span",{children:"Pay Online"}),(0,p.jsx)(eR(),{src:"https://staticcdn.redcliffelabs.com/media/gallary-file/None/aaa13845-f589-4af3-a133-843399ce947b.png",width:140,height:18,alt:"payment-icons"})]}),(0,p.jsxs)("label",{className:eI().paymentLabel,style:{backgroundColor:"cash"===t?"#F5F5F5":"#fff",border:"cash"===t?"1px solid #0E3F6C":"1px solid #9D9FA1",marginTop:"10px"},id:"cart-v5-payment-cash",onClick:i,children:[(0,p.jsx)(eB.Z,{checked:"cash"===t,onChange:()=>{},value:"cash",id:"cart-v5-payment-cash",name:"payment-options",sx:{"& .MuiSvgIcon-root":{fontSize:20},"&.Mui-checked":{color:"#0E3F6C"},padding:0,color:"#2F3032"}}),(0,p.jsx)("span",{children:"Pay by Cash/Card during sample collection"})]})]}):null})};var ez=n(71325),eV=n.n(ez);let e$=e=>{let{currentStep:t,setCartErrorMessage:n,paymentMode:o,setPaymentMode:i}=e,s=(0,C.Pk)(),l=(0,C.hU)(),{fetchUserInfo:a,fetchCoupons:r,applyCoupon:d,addRemoveSubscription:c}=(0,b.j)();return(0,g.useEffect)(()=>(s&&(r(),a()),()=>{s&&(d(null),c(null),i("online"))}),[s]),(0,p.jsx)("div",{children:3===t&&(0,p.jsxs)("div",{className:eV().cont,children:[(0,p.jsx)(ev,{}),(0,p.jsx)(eS,{setCartErrorMessage:n}),"mobile"===l&&(0,p.jsx)(eP,{}),(0,p.jsx)(eD,{}),(0,p.jsx)(eL,{paymentMode:o,setPaymentMode:i})]})})};var eU=n(72125),eW=n(38907),eG=n.n(eW);let eq=e=>{let{currentStep:t,cartErrorMessage:n,setCartErrorMessage:o,setShowAlertModal:i}=e,s=(0,B.useDispatch)(),l=(0,j.useRouter)(),{cart:a,collectionSlot:r,loading:d}=(0,b.j)(),c=(0,C.Pk)(),u=(0,C.hU)(),[m,h]=(0,g.useState)(!1),v=(0,B.useSelector)(F.ad),_=(0,B.useSelector)(F.hq),x=(0,B.useSelector)(F.Qm),f=()=>{gtag&&gtag("event","cart_confirm_test",{page_title:"Confirm tests"})},k=()=>{gtag&&gtag("event","cart_add_patients",{page_title:"Add patients"})},y=()=>{gtag&&gtag("event","cart_address_and_time",{page_title:"Address & Time",shipping_tier:(null==x?void 0:x.booking_for)||"Home"})},w=()=>{switch(t){case 0:f();break;case 1:k();break;case 2:y()}},S=e=>{if((0,E.H$)(e,300),0===t&&!c){f(),s((0,eU.LQ)(!0)),s((0,eU.ct)({pathToPush:{...(0,E.uP)(l.asPath),hash:e9[1].href}}));return}if(n)i(!0);else{h(!0),w();let e=e9[t+1].href;l.push("/checkout#"+e)}};return(0,g.useEffect)(()=>{if(h(!1),0===t&&o(""),1===t){if(v&&(null==v?void 0:v.length)===0)o(I.b_.add_member);else{let t=!1;for(let n=0;n<a.length;n++){var e;let o=a[n];if(null==o?void 0:null===(e=o.members)||void 0===e?void 0:e.length){t=!0;break}}t?o(""):o(I.b_.map_member)}}2===t&&(_&&(null==_?void 0:_.length)===0||!x?o(I.b_.address):r?o(""):o(I.b_.slot)),3===t&&o("")},[t,v,a,r,_,x]),(0,p.jsx)("div",{className:eG().buttonCont,id:"cart-next-button-cont",children:(0,p.jsx)("button",{onClick:S,className:n&&!(2===t&&x&&!r)?eG().disabled:"",disabled:1===t&&(!v||d)||2===t&&!_||m,style:{cursor:"mobile"===u?"none":n?"default":"pointer"},children:"Next"})})};var eQ=n(96785),eX=n(65297),eY=n.n(eX);let eJ=()=>{let{cartInfo:e}=(0,b.j)(),t=(0,B.useSelector)(F.oh),n=(0,B.useSelector)(F.NH),o=()=>{let o=0;return o=e.redcash.amount+e.referral.amount+e.coupon.amount+e.giftcard.amount,t&&n<10&&(o+=e.vipDiscount+e.vipPhleboCostDiscount),o};return(0,p.jsx)(p.Fragment,{children:o()?(0,p.jsxs)("div",{className:eY().savings,children:[(0,p.jsx)(eQ.Z,{}),(0,p.jsxs)("em",{children:["You Saved ₹",o()]}),(0,p.jsx)("span",{children:"\xa0on this booking"})]}):null})};var eK=n(30672),e0=n.n(eK);let e1=e=>{let{paymentMode:t}=e,n=(0,j.useRouter)(),{cart:o,cartInfo:i,bookingInitiated:s,createBooking:l,razorpayPayment:a,resetCart:r,isExpressSlot:d,collectionSlot:c}=(0,b.j)(),u=e=>{var n,i,s,l,a,r,u,p,m;let h=o.map(t=>{var n,o,i,s,l,a,r,d,c,u,p,m,h,v,_,x,f,g,j,C;return(null==t?void 0:null===(n=t.members)||void 0===n?void 0:n.length)?{item_id:(null==t?void 0:null===(o=t.product)||void 0===o?void 0:null===(i=o.package)||void 0===i?void 0:i.id)+"",item_name:null==t?void 0:null===(s=t.product)||void 0===s?void 0:null===(l=s.package)||void 0===l?void 0:l.name,coupon:(null==e?void 0:null===(a=e.amount)||void 0===a?void 0:a.redcash)?"REDCASH_APPLIED":(null==e?void 0:null===(r=e.amount)||void 0===r?void 0:r.coupon_discount)?(null==e?void 0:e.coupon_applied)+"":"",item_brand:"RedCliffe Labs",item_category:null==t?void 0:null===(d=t.product)||void 0===d?void 0:null===(c=d.package)||void 0===c?void 0:c.package_or_test,item_list_id:"cart_purchase",item_list_name:"Cart Purchase",price:((null==t?void 0:null===(u=t.product)||void 0===u?void 0:null===(p=u.package)||void 0===p?void 0:null===(m=p.package_city_prices)||void 0===m?void 0:m.offer_price)||(null==t?void 0:null===(h=t.product)||void 0===h?void 0:null===(v=h.package)||void 0===v?void 0:v.offer_price))*Math.ceil((null==t?void 0:null===(_=t.members)||void 0===_?void 0:_.length)/((null==t?void 0:null===(x=t.product)||void 0===x?void 0:null===(f=x.package)||void 0===f?void 0:f.no_patients)||1)),quantity:Math.ceil((null==t?void 0:null===(g=t.members)||void 0===g?void 0:g.length)/((null==t?void 0:null===(j=t.product)||void 0===j?void 0:null===(C=j.package)||void 0===C?void 0:C.no_patients)||1))}:null}).filter(e=>!!e),v=((null==e?void 0:null===(n=e.amount)||void 0===n?void 0:n.redcash)||0)+((null==e?void 0:null===(i=e.amount)||void 0===i?void 0:i.coupon_discount)||0)+((null==e?void 0:null===(s=e.amount)||void 0===s?void 0:s.subscription_discount_amount)||0),_=h.length;h.forEach((e,t)=>{e.index=t,e.discount=t===_-1?v-Math.floor(v/_)*t:Math.floor(v/_)}),gtag&&gtag("event","purchase",{transaction_id:e.pk+"",value:null==e?void 0:null===(l=e.amount)||void 0===l?void 0:l.total_paid_amount,tax:(null==e?void 0:null===(a=e.amount)||void 0===a?void 0:a.subscription_amount)||0,shipping:(null==e?void 0:null===(r=e.amount)||void 0===r?void 0:r.phlebo_cost)||0,currency:"INR",coupon:(null==e?void 0:null===(u=e.amount)||void 0===u?void 0:u.subscription_discount_amount)?"VIP_APPLIED":"",payment_method:t,items:h}),gtag&&gtag("event","express_slot",{status:d(c)?1:window.express_slot_selected?-1:0}),null==window||null===(p=window.Moengage)||void 0===p||p.track_event("purchase",{version:"v5",currency:"INR",value:null==e?void 0:null===(m=e.amount)||void 0===m?void 0:m.total_paid_amount,transaction_id:null==e?void 0:e.pk,items:h})},m=(e,t)=>{r(),(0,C.mi)(),n.replace({pathname:"/confirmed",query:{bookingId:e,paymentStatus:t}})},h=async e=>{(0,E.H$)(e,250);let n=await l();if(null==n?void 0:n.pk){var o,i;if(u(n),"online"===t&&(null==n?void 0:null===(o=n.amount)||void 0===o?void 0:o.receivable_amount))try{(await a(n,"cart")).status?m(null==n?void 0:n.pk,"success"):m(null==n?void 0:n.pk,"failed")}catch(e){console.log("catch error",e),m(null==n?void 0:n.pk,"failed")}else(null==n?void 0:null===(i=n.amount)||void 0===i?void 0:i.receivable_amount)==0?m(null==n?void 0:n.pk,"success"):m(null==n?void 0:n.pk,"pending")}};return(0,p.jsxs)("div",{className:e0().savingsAndConfirm,children:[(0,p.jsx)(eJ,{}),(0,p.jsxs)("div",{className:e0().confirm,children:[(0,p.jsxs)("div",{className:e0().total,children:[(0,p.jsx)("p",{children:"Grand Total"}),(0,p.jsxs)("span",{children:["₹",i.discountedPrice+i.subscriptionAmount]})]}),(0,p.jsx)("button",{id:"cart-v5-confirm-order-button",className:e0().confirmBtn,onClick:h,disabled:s,children:s?(0,p.jsx)(v.Z,{style:{color:"white"},thickness:5,size:20}):i.discountedPrice+i.subscriptionAmount>0?"Confirm & Pay":"Confirm"})]})]})};var e2=n(71262),e5=n.n(e2);let e9=[{name:"Confirm<br/>Tests",href:""},{name:"Add<br/>Patients",href:"patients"},{name:"Address<br/>&&nbsp;Time",href:"address-slot"},{name:"Payment",href:"payment"}],e6=e=>{let{cartErrorMessage:t,setCartErrorMessage:n,showAlertModal:o,setShowAlertModal:i}=e,s=(0,j.useRouter)(),l=(0,g.useRef)(null),a=(0,C.hU)(),[r,d]=(0,g.useState)(-1),[c,u]=(0,g.useState)("online");return(0,g.useEffect)(()=>{let e=s.asPath.slice(s.asPath.indexOf("#"));if("#login"===e||"#verify-otp"===e)return;e&&(e=e.slice(1));let t="";for(let n=0;n<e9.length;n++)if(e===e9[n].href){t=n;break}if(""!==t){let e=t-r;e<=1?(l.current.style.transform="translateX(".concat(-(100*t)+"%",")"),d(t)):(window.history.go(-t),d(0))}else s.replace(s.pathname),d(0)},[s]),(0,g.useEffect)(()=>{r>=0&&"mobile"!==a&&window.scrollTo(0,0)},[r]),(0,p.jsxs)("div",{id:"cart-wrapper",className:e5().cart_wrapper,children:[(0,p.jsx)(S,{currentStep:r,setCurrentStep:d}),(0,p.jsxs)("div",{ref:l,id:"steps-wrapper",className:e5().steps_wrapper,children:[(0,p.jsx)(D,{}),(0,p.jsx)(ei,{currentStep:r,cartErrorMessage:t,setCartErrorMessage:n,showAlertModal:o,setShowAlertModal:i}),(0,p.jsx)(ed,{currentStep:r,cartErrorMessage:t,setCartErrorMessage:n,showAlertModal:o,setShowAlertModal:i}),(0,p.jsx)(e$,{currentStep:r,setCartErrorMessage:n,paymentMode:c,setPaymentMode:u})]}),"mobile"===a?3!==r&&-1!==r?(0,p.jsx)(eq,{currentStep:r,cartErrorMessage:t,setCartErrorMessage:n,setShowAlertModal:i}):(0,p.jsx)(e1,{paymentMode:c}):(0,p.jsxs)("div",{className:e5().desktopRightSide,children:[(0,p.jsx)(eP,{currentStep:r,setShowAlertModal:i}),3!==r?(0,p.jsx)(eq,{currentStep:r,cartErrorMessage:t,setCartErrorMessage:n,setShowAlertModal:i}):(0,p.jsx)(e1,{paymentMode:c})]})]})};var e7=n(9365),e3=n(11183),e4=n(9298),e8=n(59031),te=n(5152),tt=n.n(te),tn=n(42713),to=n.n(tn);let ti=tt()(()=>Promise.all([n.e(2789),n.e(9789),n.e(9143)]).then(n.bind(n,29789)),{loadableGenerated:{webpack:()=>[29789]},loading:()=>(0,p.jsx)(e8.Z,{}),ssr:!0}),ts=()=>{let e=(0,B.useDispatch)(),t=(0,j.useRouter)(),{cart:n,cartInfo:o,loading:i,errorMessage:s,setErrorMessage:l,setError:a,setCollectionDate:r,setCollectionSlot:d,applyCoupon:c}=(0,b.j)(),u=(0,C.Pk)(),m=(0,C.hU)(),[k,y]=(0,g.useState)(!1),[w,S]=(0,g.useState)(""),[M,N]=(0,g.useState)(""),[P,E]=(0,g.useState)(!1),H=()=>{let e=n.map((e,t)=>{var n,o,i,s,l,a,r,d,c,u,p,m;return{item_id:(null==e?void 0:null===(n=e.product)||void 0===n?void 0:null===(o=n.package)||void 0===o?void 0:o.id)+"",item_name:null==e?void 0:null===(i=e.product)||void 0===i?void 0:null===(s=i.package)||void 0===s?void 0:s.name,index:t,item_brand:"RedCliffe Labs",item_category:null==e?void 0:null===(l=e.product)||void 0===l?void 0:null===(a=l.package)||void 0===a?void 0:a.package_or_test,item_list_id:"cart_view",item_list_name:"Cart View",price:null!==(m=null==e?void 0:null===(r=e.product)||void 0===r?void 0:null===(d=r.package)||void 0===d?void 0:null===(c=d.package_city_prices)||void 0===c?void 0:c.offer_price)&&void 0!==m?m:null==e?void 0:null===(u=e.product)||void 0===u?void 0:null===(p=u.package)||void 0===p?void 0:p.offer_price,quantity:1}});gtag&&gtag("event","view_cart",{currency:"INR",value:null==o?void 0:o.offerPrice,items:e})};(0,g.useEffect)(()=>(H(),document.body.style.overscrollBehavior="none",()=>{document.body.style.overscrollBehavior="auto"}),[]),(0,g.useEffect)(()=>{!k&&(null==n?void 0:n.length)&&y(!0)},[n]);let Z=/coupon|Booking Failed.|can't edit this member|maximum 5 patients/i;return(0,g.useEffect)(()=>{s&&((null==s?void 0:s.match(Z))?E(!0):"Unauthenticated"!==s&&N(s))},[s]),(0,g.useEffect)(()=>{!M&&s&&(a(!1),l(null))},[M]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h(),{children:(0,p.jsx)("script",{src:"https://checkout.razorpay.com/v1/checkout.js",async:!0})}),"mobile"===m?(0,p.jsx)("div",{className:to().mobileOnly,children:(0,p.jsx)(_.Z,{title:"Cart"})}):(0,p.jsx)(ti,{}),(0,p.jsx)(e4.Z,{}),(null==n?void 0:n.length)?(0,p.jsx)(e6,{cartErrorMessage:w,setCartErrorMessage:S,showAlertModal:P,setShowAlertModal:E}):void 0===u||(null==n?void 0:n.length)===0&&i?"mobile"===m?(0,p.jsx)("div",{className:to().mobileOnly,children:(0,p.jsx)(x.Z,{})}):(0,p.jsx)(v.Z,{style:{position:"absolute",top:"50%",left:"50%"}}):!0===u||k?(0,p.jsx)(f.Z,{head:"Your Cart is empty",btnText:"Explore Tests",onClick:()=>t.push("/search")}):(0,p.jsx)(f.Z,{head:"Access your cart items by logging in",btnText:"Log in",onClick:()=>e((0,eU.LQ)(!0))}),(0,p.jsx)(e7.Z,{open:P,setOpen:E,message:s||w,btnText:s?"OK":"Proceed",onClose:()=>{s&&setTimeout(()=>{l(null),a(!1)},[500]),E(!1)},onBtnClick:()=>{s&&setTimeout(()=>{l(null),a(!1)},[500]),E(!1)}}),(0,p.jsx)(e3.Z,{message:M,setMessage:N})]})};var tl=ts},37752:function(e){e.exports={head:"AddressAndSlot_head__2ZQA7"}},71262:function(e){e.exports={cart_wrapper:"CartStepsCont_cart_wrapper__4fhsC",steps_wrapper:"CartStepsCont_steps_wrapper__SVgUC",desktopRightSide:"CartStepsCont_desktopRightSide__98Yac"}},84384:function(e){e.exports={centre:"ConfirmModalV5_centre__csB1A",confirmModal:"ConfirmModalV5_confirmModal__ZdC5t",confirmModal__msg:"ConfirmModalV5_confirmModal__msg__uLoNc",confirmModal__btnGroup:"ConfirmModalV5_confirmModal__btnGroup__cFykK",confirmModal__btn_no:"ConfirmModalV5_confirmModal__btn_no__dmAyh",confirmModal__btn_yes:"ConfirmModalV5_confirmModal__btn_yes__53AXG",confirmModal__crossIcon:"ConfirmModalV5_confirmModal__crossIcon__RTSwv"}},32151:function(e){e.exports={cont:"EmptyScreen_cont__dxgBT"}},38907:function(e){e.exports={buttonCont:"NextButton_buttonCont__R9eyI",disabled:"NextButton_disabled__yXdh_"}},10988:function(e){e.exports={buttonsCont:"AddEditPatients_buttonsCont___9XTJ",editPatients:"AddEditPatients_editPatients__g5_Qq",editPatientsHead:"AddEditPatients_editPatientsHead__RzfVb",editPatientsList:"AddEditPatients_editPatientsList__0gFtM",editPatient:"AddEditPatients_editPatient___wjTJ"}},18416:function(e){e.exports={head:"Patients_head__yJlEv",patientsCont:"Patients_patientsCont__PHoUs",patientCard:"Patients_patientCard__L1al_",patientDetailsCont:"Patients_patientDetailsCont__Ll9ID",patientProgess:"Patients_patientProgess__hJZ1D",patientExpand:"Patients_patientExpand__KfZT_",testsCont:"Patients_testsCont___HgrY",test:"Patients_test__gRGc0",divider:"Patients_divider__KaooD",addPatient:"Patients_addPatient__TQyCg",shimmerCont:"Patients_shimmerCont__XH5cq",testCheckbox:"Patients_testCheckbox__xsSWd"}},99873:function(e){e.exports={cont:"PatientsShimmer_cont___7Awz",bar:"PatientsShimmer_bar__p6_q_",square:"PatientsShimmer_square__Zc7eM"}},30672:function(e){e.exports={savingsAndConfirm:"ConfirmOrder_savingsAndConfirm__hwc8Q",confirm:"ConfirmOrder_confirm__9z5mr",total:"ConfirmOrder_total__MiE8q",confirmBtn:"ConfirmOrder_confirmBtn__6KpHF"}},30929:function(e){e.exports={cont:"Membership_cont__JR1Fo"}},74808:function(e){e.exports={headCont:"Offers_headCont__xnia9",offersWrapper:"Offers_offersWrapper__OegEW",offerCont:"Offers_offerCont__o6j5r",selectedOffer:"Offers_selectedOffer__VZi5F",disableOffer:"Offers_disableOffer__e8DuC",redcashCont:"Offers_redcashCont__3EW1N",couponCont:"Offers_couponCont__WGbym",offerHead:"Offers_offerHead__Y81Ts",offerSubHead:"Offers_offerSubHead__6N3Lp",info:"Offers_info__7X_Qi",redcashSummaryHeadCont:"Offers_redcashSummaryHeadCont__v2T__",redcashSummaryValuesCont:"Offers_redcashSummaryValuesCont__9MPhd",couponDrawerSticky:"Offers_couponDrawerSticky__60XiR",couponFormCont:"Offers_couponFormCont__fz0L9",couponListCont:"Offers_couponListCont___wN8_",couponCardsCont:"Offers_couponCardsCont__6Ziv7",noCouponsAval:"Offers_noCouponsAval__jhAsF",couponCard:"Offers_couponCard__82Kzp",couponCardHead:"Offers_couponCardHead__EMoFO",couponMinimumPrice:"Offers_couponMinimumPrice__gnxKk",couponOfferDetails:"Offers_couponOfferDetails__0qdOi",couponTnC:"Offers_couponTnC__iy4Qv",redcashSummaryCont:"Offers_redcashSummaryCont__4mNMR",couponDrawerCont:"Offers_couponDrawerCont__ZQIIy"}},71325:function(e){e.exports={cont:"Payment_cont__f0etb"}},42010:function(e){e.exports={head:"PaymentOptions_head__tdd1t",paymentLabel:"PaymentOptions_paymentLabel__wlSkN"}},77956:function(e){e.exports={head:"PriceDetails_head__UwqJL",wrapper:"PriceDetails_wrapper__XmXgk",details:"PriceDetails_details__I9tG3",additionalOfferMsg:"PriceDetails_additionalOfferMsg__ISQdI",amountDetails:"PriceDetails_amountDetails__XZiA2",infoIcon:"PriceDetails_infoIcon__LJCCw",collectionChargesDrawer:"PriceDetails_collectionChargesDrawer__wHvHl",collectionDrawerHeadCont:"PriceDetails_collectionDrawerHeadCont__eQTGt",collectionChargesMsgCont:"PriceDetails_collectionChargesMsgCont__o4ucy",discountInfoCont:"PriceDetails_discountInfoCont__FyuTQ",couponBreakdownDetailsCont:"PriceDetails_couponBreakdownDetailsCont__lWvuj",couponBreakdownDetails:"PriceDetails_couponBreakdownDetails__pNkYp",zeroAmount:"PriceDetails_zeroAmount__7mZAy"}},62626:function(e){e.exports={reviewCont:"ReviewBooking_reviewCont__mQjZ6",headCont:"ReviewBooking_headCont__xLA7q",collectionDateSlot:"ReviewBooking_collectionDateSlot___CpZl",patientsAndtestsCont:"ReviewBooking_patientsAndtestsCont__uoaOY",testsHeadCont:"ReviewBooking_testsHeadCont__ppk_y",patientsCont:"ReviewBooking_patientsCont__o3Zma",patient:"ReviewBooking_patient__U2P1l",patientHead:"ReviewBooking_patientHead__tCjWH",patientTestsCont:"ReviewBooking_patientTestsCont__x9H5H",patientTest:"ReviewBooking_patientTest__7tYHz",testprice:"ReviewBooking_testprice__dk7JA",cont:"ReviewBooking_cont__ADNqF"}},65297:function(e){e.exports={savings:"TotalSavings_savings__1uvMg"}},25614:function(e){e.exports={cont:"Stepper_cont__wHIPH",stepsCont:"Stepper_stepsCont__nX3l_",stepCont:"Stepper_stepCont__ABFoF",step:"Stepper_step__sa9Vm",number:"Stepper_number__wf0vC",line:"Stepper_line__U7BYf",tick:"Stepper_tick__xhSQZ"}},23482:function(e){e.exports={cont:"Tests_cont__NjuXg",packageCardsCont:"Tests_packageCardsCont__anLY_",packageCard:"Tests_packageCard__XsR9i",addMore:"Tests_addMore__MKBsr"}},42713:function(e){e.exports={mobileOnly:"CartV5_mobileOnly__KRjAE"}},30159:function(e){e.exports={shimmerHeaderContainer:"desktopHeaderShimmer_shimmerHeaderContainer__VVaEM",shimmerHeaderTopBar:"desktopHeaderShimmer_shimmerHeaderTopBar__xXNfp",shimmerHeaderLogo:"desktopHeaderShimmer_shimmerHeaderLogo__ftPtU",shimmerHeaderTopSpansContainer:"desktopHeaderShimmer_shimmerHeaderTopSpansContainer___yWdl",shimmerHeaderTopSpan:"desktopHeaderShimmer_shimmerHeaderTopSpan__Uoxp6",shimmerHeaderNavBar:"desktopHeaderShimmer_shimmerHeaderNavBar__Asos9",shimmerHeaderNavSpan:"desktopHeaderShimmer_shimmerHeaderNavSpan__ACNeQ",shimmerEffect:"desktopHeaderShimmer_shimmerEffect__y84i5",shimmer:"desktopHeaderShimmer_shimmer__Z_Vc5"}}},function(e){e.O(0,[4617,5937,3609,1057,1664,8158,2607,4627,4389,6436,258,5950,9014,3866,9132,8265,9774,2888,179],function(){return e(e.s=72590)}),_N_E=e.O()}]);