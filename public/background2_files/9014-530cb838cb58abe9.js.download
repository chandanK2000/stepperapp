(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9014],{20724:function(e,t,l){"use strict";var o=l(64836);t.Z=void 0;var i=o(l(64938)),r=l(85893),s=(0,i.default)((0,r.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");t.Z=s},50594:function(e,t,l){"use strict";var o=l(64836);t.Z=void 0;var i=o(l(64938)),r=l(85893),s=(0,i.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=s},79103:function(e,t,l){"use strict";var o=l(64836);t.Z=void 0;var i=o(l(64938)),r=l(85893),s=(0,i.default)((0,r.jsx)("path",{d:"M12 5.99 19.53 19H4.47L12 5.99M2.74 18c-.77 1.33.19 3 1.73 3h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18zM11 11v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zm0 5h2v2h-2z"}),"WarningAmberRounded");t.Z=s},61202:function(e,t,l){"use strict";var o=l(64836);t.Z=void 0;var i=o(l(64938)),r=l(85893),s=(0,i.default)((0,r.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm3.55 13.8-4.08-2.51c-.3-.18-.48-.5-.48-.85V7.75c.01-.41.35-.75.76-.75s.75.34.75.75v4.45l3.84 2.31c.36.22.48.69.26 1.05-.22.35-.69.46-1.05.24z"}),"WatchLaterRounded");t.Z=s},74816:function(e,t,l){"use strict";l.d(t,{Z:function(){return T}});var o=l(85893),i=l(25675),r=l.n(i),s=l(9365),n=l(3569),a=l(22994),c=l(36872),d=l(67294),u=l(2664),p=l(30596),_=l(47491),m=l(56559),v=l(55509),h=l(89070),f=l(79103),g=l(61202),x=l(36966),b=l.n(x);let S="",y=null,j="",w={express:[],morning:[],afternoon:[],evening:[]},M=["express","morning","afternoon","evening"],D=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"instant",l=document.getElementById("cart-collection-date-cont");"mobile"===e&&l&&l.scrollIntoView({behavior:t,block:"start"});let o=document.getElementById("cart-collection-date-slot-cont");"mobile"!==e&&o&&setTimeout(()=>{window.scrollTo(0,document.body.clientHeight-o.clientHeight-316)},500)},T=e=>{let{currentStep:t,cartErrorMessage:l,showAlertModal:i,bookingData:x}=e,{collectionDate:T,setCollectionDate:C,collectionSlot:N,setCollectionSlot:k,availableSlots:A,slotLoading:I,cartInfo:Z,isExpressSlot:B,applyCoupon:E}=(0,p.j)(),F=(0,_.hU)(),P=(0,_.Pk)(),H=(0,u.useDispatch)(),z=(0,u.useSelector)(m.oh),R=(0,u.useSelector)(m.NH),J=(0,u.useSelector)(m.Qm),[V,L]=(0,d.useState)(null),[O,W]=(0,d.useState)(w),[G,Q]=(0,d.useState)(!1),[Y,$]=(0,d.useState)(""),[q,K]=(0,d.useState)(!1),[U,X]=(0,d.useState)(""),[ee,et]=(0,d.useState)(!!x),el=e=>{let t=new Date;return t.setDate(t.getDate()+e),t},eo=e=>e.getFullYear()+"-"+(e.getMonth()+1).toString().padStart(2,0)+"-"+e.getDate().toString().padStart(2,0);(0,d.useEffect)(()=>{2===t&&h.b_.slot_change&&(D(F,"instant"),h.b_.slot_change=!1)},[t]),(0,d.useEffect)(()=>(P&&!x&&C(eo(new Date)),()=>{P&&(C(""),k(null),S&&clearInterval(S))}),[P]);let ei=()=>{let e=JSON.parse(localStorage.getItem("slots-expiry-data")||"[]"),t=[];return null==e||e.forEach(e=>{Date.now()<(null==e?void 0:e.expiryTime)&&t.push(e)}),(null==t?void 0:t.length)?localStorage.setItem("slots-expiry-data",JSON.stringify(t)):localStorage.removeItem("slots-expiry-data"),t};(0,d.useEffect)(()=>{if(!I&&T&&J){let e={express:[],morning:[],afternoon:[],evening:[]},t=[];if(T===eo(new Date)){let e=ei();A.forEach(l=>{let o=new Date,i=null==l?void 0:l.end_time.split(":");o.setHours(parseFloat(i[0])),o.setMinutes(parseFloat(i[1])),o.setSeconds(parseFloat(i[2]));let r=Date.now();(o.getTime()-r>h.rM.min_time_diff||(null==e?void 0:e.some(e=>(null==e?void 0:e.id)===l.id)))&&t.push(l)})}else t=A;t.forEach(t=>{var l;let o=t.start_time,i=Number(o[0]+o[1]);B(t)?e.express.push(t):i<12?e.morning.push(t):i>=12&&i<16?e.afternoon.push(t):e.evening.push(t),T===(null==x?void 0:x.collectionDate)&&(null==t?void 0:t.id)===(null==x?void 0:null===(l=x.collectionSlot)||void 0===l?void 0:l.id)&&k(t)}),ee||T!==eo(new Date)||(null==t?void 0:t.length)!==0||(C(eo(el(1))),et(!0)),L(t),W({...e}),y&&(k(y),y=null)}},[A]),(0,d.useEffect)(()=>{l===h.b_.slot?i&&D(F,"instant"):G&&Q(!1)},[l,i]);let er=e=>{let t=0,l=JSON.parse(localStorage.getItem("slots-expiry-data")||"[]"),o=null==l?void 0:l.find(t=>(null==t?void 0:t.id)===(null==e?void 0:e.id));if(o)t=o.expiryTime-Date.now();else{let i=new Date,r=null==e?void 0:e.end_time.split(":");i.setHours(parseFloat(r[0])),i.setMinutes(parseFloat(r[1])),i.setSeconds(parseFloat(r[2]));let s=Date.now(),n=i.getTime();n-s<h.rM.min_time_diff+h.rM.buffer_time&&n-s>h.rM.min_time_diff&&(o={id:e.id,expiryTime:Date.now()+h.rM.buffer_time},l.push(o),localStorage.setItem("slots-expiry-data",JSON.stringify(l)),t=h.rM.buffer_time)}return t},es=e=>{let t=new Date,l=null==e?void 0:e.start_time.split(":");t.setHours(parseFloat(l[0])),t.setMinutes(parseFloat(l[1])),t.setSeconds(parseFloat(l[2]));let o=Date.now(),i=t.getTime(),r=0;return i-o>54e5&&i-o<54e5+h.rM.buffer_time&&(r=i-o-54e5),r},en=e=>{let t=JSON.parse(localStorage.getItem("slots-expiry-data")||"[]"),l=null==t?void 0:t.find(t=>(null==t?void 0:t.id)===(null==e?void 0:e.id));if(l){if(Date.now()>(null==l?void 0:l.expiryTime))return ei(),!0}else{let t=new Date,l=null==e?void 0:e.end_time.split(":");t.setHours(parseFloat(l[0])),t.setMinutes(parseFloat(l[1])),t.setSeconds(parseFloat(l[2]));let o=Date.now();if(t.getTime()-o<h.rM.min_time_diff)return!0}return!1},ea=e=>{var t;return!!((null==O?void 0:null===(t=O.express)||void 0===t?void 0:t.every(t=>(null==t?void 0:t.id)!==(null==e?void 0:e.id)))&&B(e))},ec=e=>{var t,l,o;let i=Math.ceil(e/1e3);console.log("timeInSecs",i);let r=null===(t=null===(l=Math.floor(i/60))||void 0===l?void 0:l.toString())||void 0===t?void 0:t.padStart(2,"0"),s=null===(o=(i%60).toString())||void 0===o?void 0:o.padStart(2,"0");return"".concat(r,":").concat(s)},ed=e=>{let t=document.getElementById("slot-timer");t?t.innerText=e:j=e},eu=e=>{en(e)?(ed("00:00"),S&&clearInterval(S),K(!0),X(h.rM.not_available)):ea(e)?(ed("00:00"),S&&clearInterval(S),K(!0),X(h.rM.normal_to_express),y=e):er(e)?(Y||$(h.rM.express_msg),ed(ec(er(e)))):es(e)?(Y||$(h.rM.to_be_express),ed(ec(es(e)))):Y&&$("")};(0,d.useEffect)(()=>{S&&clearInterval(S),$(""),N&&T===eo(new Date)&&(eu(N),S=setInterval(e=>{eu(e)},1e3,N),!window.express_slot_selected&&B(N)&&(window.express_slot_selected=!0))},[N]);let ep=()=>{K(!1),setTimeout(()=>{X("")},500),H((0,m.l3)({...J})),y||3!==t||(h.b_.slot_change=!0,window.history.go(-1),E(null))},e_=(e,t)=>{(0,v.H$)(e,300,"rgb(245, 245, 245, 0.5)"),eo(t)!==T&&(L(null),C(eo(t)))},em=(e,t)=>{(0,v.H$)(e,400,"rgba(0,0,0, 0.2)"),k(t)},ev=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],eh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ef=e=>{var t;return(null!==(t=e.phlebo_cost)&&void 0!==t?t:0)===0||Z.offerPrice>=e.minimum_amount_phlebo_cost},eg=()=>!!z&&R<10,ex=e=>{for(;e;){var t;if(null===(t=O[M[e-1]])||void 0===t?void 0:t.length)return!0;e--}return!1};return(0,o.jsxs)(o.Fragment,{children:[2===t&&J&&(0,o.jsxs)("div",{className:b().dateAndSlotCont,id:"cart-collection-date-slot-cont",children:[(0,o.jsx)("h6",{className:b().head,children:"Sample Collection Date & Time"}),(0,o.jsx)("div",{className:b().collection__date__wrapper,children:(0,o.jsx)("div",{id:"cart-collection-date-cont",className:b().collectionDatesCont,children:Array.from(Array(7),(e,t)=>el(t)).map((e,t)=>(0,o.jsxs)("div",{className:"".concat(b().collectionDate," ").concat(eo(e)===T?b().collectionDateActive:""),onClick:t=>e_(t,e),children:[(0,o.jsxs)("p",{children:[" ",ev[e.getDay()]," "]}),(0,o.jsxs)("span",{children:[" ",e.getDate().toString().padStart(2,0)," "]}),(0,o.jsxs)("p",{children:[" ",eh[e.getMonth()]," "]})]},e.getDate()))})}),I||null===V?(0,o.jsx)("div",{children:M.slice(1).map((e,t)=>(0,o.jsxs)(d.Fragment,{children:[0!==t&&(0,o.jsx)("hr",{className:b().divider}),(0,o.jsx)("div",{className:"".concat(b().dayTimeSlotsCont," ").concat(b().slotsCont),children:Array.apply(null,Array(Math.pow(2,3-t))).map((t,l)=>(0,o.jsx)(n.Z,{style:{margin:"0",width:"mobile"===F?"160px":"200px",height:"mobile"===F?"36px":"45px",borderRadius:"5px"},forceShimmer:!0},"slot-shimmer-"+e+"-"+l))})]},"slot-shimmer-cont-"+e))}):(null==V?void 0:V.length)?(0,o.jsx)("div",{id:"cart-slots-"+T,className:b().slotsCont,children:M.map((e,t)=>{var l;return(null===(l=O[e])||void 0===l?void 0:l.length)?(0,o.jsxs)(d.Fragment,{children:[0!==t&&ex(t)?(0,o.jsx)("hr",{className:b().divider}):null,(0,o.jsxs)("div",{className:b().dayTimeSlotsCont,children:[O[e].map((t,l)=>(0,o.jsxs)("div",{className:"".concat(b().slot," ").concat(t.id===(N&&N.id)?b().slotActive:""),onClick:e=>em(e,t),children:[(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)(c.Z,{checked:(null==N?void 0:N.id)===(null==t?void 0:t.id)&&!G,onChange:()=>{},value:t.id,name:"radio-buttons",sx:{"& .MuiSvgIcon-root":{fontSize:20},"&.Mui-checked":{color:"#0E3F6C"},padding:0,color:G?"transparent":"rgba(0, 0, 0, 0.6)",zIndex:1}}),G&&(0,o.jsx)(a.Z,{style:{height:"20px",width:"20px",borderRadius:"50%",top:"0",left:"0",position:"absolute",zIndex:0},thickness:"6px",delay:500,duration:1e3,primaryColor:"#e5184e",updateVariables:0===l,innerBorderRadius:"50%",iterations:1})]}),(0,o.jsxs)("div",{className:b().slotTimeAndCharges,children:[(0,o.jsx)("p",{children:(0,o.jsx)("span",{children:t.start_time1hr+" - "+t.end_time1hr})}),"express"===e?(0,o.jsxs)("div",{className:b().expressSlot,children:[(0,o.jsx)(r(),{src:"https://staticcdn.redcliffelabs.com/media/gallary-file/None/e25f1369-d039-4562-92e1-8bbb6453c199.png",height:20,width:20,quality:100}),(0,o.jsxs)("p",{style:{color:"#0E3F6C"},children:["Express fee\xa0:\xa0₹",h.rM.charges]})]}):ef(t)||eg()||(null==x?void 0:x.editAsVIP)?(0,o.jsx)("p",{style:{color:"#2F3032"},children:"Free"}):(0,o.jsxs)("p",{style:{color:"#0E3F6C"},children:["Slot fee\xa0:\xa0₹",t.phlebo_cost]})]})]},T+"-"+t.id+"-"+l)),Y&&"express"===e&&(0,o.jsxs)("div",{className:b().timerMessage,children:[(0,o.jsx)(g.Z,{}),(0,o.jsxs)("p",{children:[Y,(0,o.jsx)("span",{id:"slot-timer",children:j})]})]})]})]},e):null})}):(0,o.jsxs)("div",{className:b().noSlotAval,children:[(0,o.jsx)(f.Z,{}),(0,o.jsx)("p",{children:"No slots are available for this date, try selecting another date!"})]})]}),(0,o.jsx)(s.Z,{open:q,onClose:ep,message:U,btnText:"OK",onBtnClick:()=>ep()})]})};T.defaultProps={currentStep:2,cartErrorMessage:"",showAlertModal:!1,bookingData:null}},9365:function(e,t,l){"use strict";var o=l(85893),i=l(67294),r=l(93321),s=l(84808),n=l(16628),a=l(87357),c=l(91681),d=l.n(c);let u=e=>{let{open:t,setOpen:l,onClose:c,message:u,btnText:p,onBtnClick:_}=e,m=()=>{c?c():l(!1)},v=e=>{_?_():c?c():l(!1)};return(0,i.useEffect)(()=>{!u&&t&&l&&l(!1)},[u]),(0,o.jsx)(r.Z,{open:t,onClose:m,closeAfterTransition:!0,slots:{backdrop:s.Z},slotProps:{backdrop:{timeout:500}},sx:{"&.MuiModal-root":{zIndex:2500}},children:(0,o.jsx)(n.Z,{in:t,children:(0,o.jsx)(a.Z,{className:d().centre,children:(0,o.jsxs)("div",{className:d().cont,children:[(0,o.jsx)("p",{dangerouslySetInnerHTML:{__html:u}}),(0,o.jsx)("button",{onClick:v,children:p})]})})})})};t.Z=u},22994:function(e,t,l){"use strict";var o=l(85893),i=l(67294),r=l(80586),s=l.n(r);let n=0,a=0,c=0,d=e=>{let{style:t,thickness:l,duration:r,delay:d,primaryColor:u,secondaryColor:p,backgroundColor:_,updateVariables:m,innerBorderRadius:v,iterations:h}=e;return(0,i.useEffect)(()=>{if(m){let e=document.documentElement;e.style.setProperty("--loader-primary-color",u),e.style.setProperty("--loader-secondary-color",p),e.style.setProperty("--loader-background-color",_),e.style.setProperty("--loader-thickness",l),e.style.setProperty("--loader-duration",r+"ms"),n=0,a=0,c=0;let t=setInterval(()=>{if(a&&(a-=10,a=Math.max(0,a)),!a){if(100==e.style.getPropertyValue("--loader-value")){e.style.setProperty("--loader-value",0),n=0,a=d-10,++c>=h&&(e.style.setProperty("--loader-value",100),clearInterval(t));return}n++,e.style.setProperty("--loader-value",Math.min(n*(100/(r/10)),100))}},[10]);return()=>{clearInterval(t)}}},[]),(0,o.jsx)("div",{className:s().loader,style:t,children:(0,o.jsx)("div",{style:{background:_,height:"calc(".concat(t.height," - ").concat(l,")"),width:"calc(".concat(t.width," - ").concat(l,")"),borderRadius:null!=v?v:t.borderRadius}})})};d.defaultProps={style:{height:"100%",width:"100%",borderRadius:"50%"},thickness:"10px",duration:"1000",delay:"500",primaryColor:"#e5184e",secondaryColor:"#0009",backgroundColor:"white",updateVariables:!0,innerBorderRadius:void 0,iterations:1e3},t.Z=d},20984:function(e,t,l){"use strict";var o=l(85893);l(67294);var i=l(11163),r=l(55509),s=l(20724),n=l(43981),a=l.n(n),c=l(4845);let d=e=>{let{title:t,onBack:l,sappbtn:n,sappBtnHandeler:d,showWhatsappAndCall:u=!1,showBackButton:p=!0}=e,_=(0,i.useRouter)(),m=e=>{let t=null==window?void 0:window.referer;if(null===t){_.replace("/");return}l?l():((0,r.H$)(e,250),window.history.length>1?_.back():_.replace("/"))};return(0,o.jsxs)("div",{className:a().mobileTitleBar,children:[(0,o.jsxs)("div",{className:a().mobileTitleBar__first,children:[p&&(0,o.jsx)("div",{className:a().mobileTitleBar__icon,onClick:m,children:(0,o.jsx)(s.Z,{})}),(0,o.jsx)("p",{className:a().mobileTitleBar__title,children:t})]}),(0,o.jsx)("div",{className:a().mobileTitleBar__sapp__btn,onClick:d,children:n}),u?(0,o.jsx)(c.Z,{}):null]})};t.Z=d},9298:function(e,t,l){"use strict";var o=l(67294),i=l(2664),r=l(72125),s=l(56559),n=l(89070),a=l(30596);let c=()=>{let e=(0,i.useDispatch)(),{subscriptionInCart:t}=(0,a.j)(),l=(0,i.useSelector)(e=>e.loginPageSlice.useProfile),c=(0,i.useSelector)(e=>e.loginPageSlice.userDetails),d=(0,i.useSelector)(s.oh),u=e=>{let t=new Date(e),l=new Date;return t.getTime()>l.getTime()};return(0,o.useEffect)(()=>{var o,i,r,a,c,p;if(t.subscription)return;let _=!1;(null==l?void 0:null===(o=l.profile)||void 0===o?void 0:null===(i=o.subscription)||void 0===i?void 0:i.length)?u(l.profile.subscription[0].active_till)&&(!l.profile.booking_count||l.profile.booking_count<=10)&&(_=!0,d||(e((0,s.J_)(!0)),e((0,s.W7)("percentage"===l.profile.subscription[0].discount_type?l.profile.subscription[0].discount_percentage:l.profile.subscription[0].discount)),e((0,s.uj)(l.profile.subscription[0].discount_type)),n.as.dispatchGetProfileCount=3)):_||(d&&e((0,s.Ao)()),e((0,s.py)(null!==(c=null==l?void 0:null===(a=l.profile)||void 0===a?void 0:a.booking_count)&&void 0!==c?c:0)),n.as.dispatchGetProfileCount=0),(null==l?void 0:null===(r=l.profile)||void 0===r?void 0:r.phonenumber)&&window.gtag&&window.gtag("set","user_data",{...l.profile.email?{email:null==l?void 0:null===(p=l.profile)||void 0===p?void 0:p.email}:{},phone_number:"+91"+l.profile.phonenumber})},[l]),(0,o.useEffect)(()=>{var t;(null==c?void 0:null===(t=c.user)||void 0===t?void 0:t.token)&&!(null==l?void 0:l.profile)&&e((0,r.et)({token:c.user.token}))},[c]),null};t.Z=c},36966:function(e){e.exports={dateAndSlotCont:"Slot_dateAndSlotCont__04T0i",head:"Slot_head__XJvfc",collection__date__wrapper:"Slot_collection__date__wrapper__jKhZg",collectionDatesCont:"Slot_collectionDatesCont__hItva",collectionDate:"Slot_collectionDate__t8kBV",collectionDateActive:"Slot_collectionDateActive__tpINS",slotsCont:"Slot_slotsCont__3QJ9b",dayTimeSlotsCont:"Slot_dayTimeSlotsCont__SkHr4",slot:"Slot_slot__gyrbV",slotTimeAndCharges:"Slot_slotTimeAndCharges__1kxLh",expressSlot:"Slot_expressSlot__xQ90H",timerMessage:"Slot_timerMessage__j_1gb",slotActive:"Slot_slotActive__RUAij",divider:"Slot_divider__nD4rf",noSlotAval:"Slot_noSlotAval__OzM8g"}},91681:function(e){e.exports={centre:"AlertModalV5_centre__llPCV",cont:"AlertModalV5_cont__B2LYw"}},80586:function(e){e.exports={loader:"CustomLoader_loader__ngHnO"}},43981:function(e){e.exports={mobileTitleBar:"mobile_mobileTitleBar__Gsqs0",mobileTitleBar__first:"mobile_mobileTitleBar__first__ODYb3",mobileTitleBar__icon:"mobile_mobileTitleBar__icon__vilDv",mobileTitleBar__title:"mobile_mobileTitleBar__title__N_z2g",mobileTitleBar__sapp__btn:"mobile_mobileTitleBar__sapp__btn__ZLaR2"}}}]);